/*! For license information please see im-core.js.LICENSE.txt */
export const __webpack_id__="im-core";export const __webpack_ids__=["im-core"];export const __webpack_modules__={"./src/App/initialiseApp.js":(e,t,n)=>{n.r(t),n.d(t,{initialiseApp:()=>Yi});var r,o,i,u,a,l,c,f,s,p,d,y,m={},b=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_=Array.isArray;function h(e,t){for(var n in t)e[n]=t[n];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function O(e,t,n){var o,i,u,a={};for(u in t)"key"==u?o=t[u]:"ref"==u?i=t[u]:a[u]=t[u];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(u in e.defaultProps)void 0===a[u]&&(a[u]=e.defaultProps[u]);return S(e,a,o,i,null)}function S(e,t,n,r,u){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==u?++i:u,__i:-1,__u:0};return null==u&&null!=o.vnode&&o.vnode(a),a}function P(e){return e.children}function w(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?E(e):null}function j(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return j(e)}}function A(e){(!e.__d&&(e.__d=!0)&&u.push(e)&&!T.__r++||a!=o.debounceRendering)&&((a=o.debounceRendering)||l)(T)}function T(){for(var e,t,n,r,i,a,l,f=1;u.length;)u.length>f&&u.sort(c),e=u.shift(),f=u.length,e.__d&&(n=void 0,r=void 0,i=(r=(t=e).__v).__e,a=[],l=[],t.__P&&((n=h({},r)).__v=r.__v+1,o.vnode&&o.vnode(n),x(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,a,null==i?E(r):i,!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,B(a,n,l),r.__e=r.__=null,n.__e!=i&&j(n)));T.__r=0}function k(e,t,n,r,o,i,u,a,l,c,f){var s,p,d,y,v,_,h,g=r&&r.__k||b,O=t.length;for(l=R(n,t,g,l,O),s=0;s<O;s++)null!=(d=n.__k[s])&&(p=-1==d.__i?m:g[d.__i]||m,d.__i=s,_=x(e,d,p,o,i,u,a,l,c,f),y=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&F(p.ref,null,d),f.push(d.ref,d.__c||y,d)),null==v&&null!=y&&(v=y),(h=!!(4&d.__u))||p.__k===d.__k?l=C(d,l,e,h):"function"==typeof d.type&&void 0!==_?l=_:y&&(l=y.nextSibling),d.__u&=-7);return n.__e=v,l}function R(e,t,n,r,o){var i,u,a,l,c,f=n.length,s=f,p=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(u=t[i])&&"boolean"!=typeof u&&"function"!=typeof u?("string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?u=e.__k[i]=S(null,u,null,null,null):_(u)?u=e.__k[i]=S(P,{children:u},null,null,null):void 0===u.constructor&&u.__b>0?u=e.__k[i]=S(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):e.__k[i]=u,l=i+p,u.__=e,u.__b=e.__b+1,a=null,-1!=(c=u.__i=M(u,n,l,s))&&(s--,(a=n[c])&&(a.__u|=2)),null==a||null==a.__v?(-1==c&&(o>f?p--:o<f&&p++),"function"!=typeof u.type&&(u.__u|=4)):c!=l&&(c==l-1?p--:c==l+1?p++:(c>l?p--:p++,u.__u|=4))):e.__k[i]=null;if(s)for(i=0;i<f;i++)null!=(a=n[i])&&!(2&a.__u)&&(a.__e==r&&(r=E(a)),W(a,a));return r}function C(e,t,n,r){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=C(o[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=E(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function I(e,t){return t=t||[],null==e||"boolean"==typeof e||(_(e)?e.some(function(e){I(e,t)}):t.push(e)),t}function M(e,t,n,r){var o,i,u,a=e.key,l=e.type,c=t[n],f=null!=c&&!(2&c.__u);if(null===c&&null==a||f&&a==c.key&&l==c.type)return n;if(r>(f?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;)if(null!=(c=t[u=o>=0?o--:i++])&&!(2&c.__u)&&a==c.key&&l==c.type)return u;return-1}function D(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function N(e,t,n,r,o){var i,u;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||D(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||D(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(f,"$1")),u=t.toLowerCase(),t=u in e||"onFocusOut"==t||"onFocusIn"==t?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=s,e.addEventListener(t,i?d:p,i)):e.removeEventListener(t,i?d:p,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function L(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=s++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function x(e,t,n,r,i,u,a,l,c,f){var s,p,d,y,m,b,v,O,S,E,j,A,T,R,C,I,M,D=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),u=[l=t.__e=n.__e]),(s=o.__b)&&s(t);e:if("function"==typeof D)try{if(O=t.props,S="prototype"in D&&D.prototype.render,E=(s=D.contextType)&&r[s.__c],j=s?E?E.props.value:s.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(S?t.__c=p=new D(O,j):(t.__c=p=new w(O,j),p.constructor=D,p.render=q),E&&E.sub(p),p.state||(p.state={}),p.__n=r,d=p.__d=!0,p.__h=[],p._sb=[]),S&&null==p.__s&&(p.__s=p.state),S&&null!=D.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=h({},p.__s)),h(p.__s,D.getDerivedStateFromProps(O,p.__s))),y=p.props,m=p.state,p.__v=t,d)S&&null==D.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),S&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(S&&null==D.getDerivedStateFromProps&&O!==y&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(O,j),t.__v==n.__v||!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(O,p.__s,j)){for(t.__v!=n.__v&&(p.props=O,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(O,p.__s,j),S&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(y,m,b)})}if(p.context=j,p.props=O,p.__P=e,p.__e=!1,T=o.__r,R=0,S){for(p.state=p.__s,p.__d=!1,T&&T(t),s=p.render(p.props,p.state,p.context),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[]}else do{p.__d=!1,T&&T(t),s=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++R<25);p.state=p.__s,null!=p.getChildContext&&(r=h(h({},r),p.getChildContext())),S&&!d&&null!=p.getSnapshotBeforeUpdate&&(b=p.getSnapshotBeforeUpdate(y,m)),I=s,null!=s&&s.type===P&&null==s.key&&(I=z(s.props.children)),l=k(e,_(I)?I:[I],t,n,r,i,u,a,l,c,f),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),v&&(p.__E=p.__=null)}catch(e){if(t.__v=null,c||null!=u)if(e.then){for(t.__u|=c?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;u[u.indexOf(l)]=null,t.__e=l}else{for(M=u.length;M--;)g(u[M]);H(t)}else t.__e=n.__e,t.__k=n.__k,e.then||H(t);o.__e(e,t,n)}else null==u&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=U(n.__e,t,n,r,i,u,a,c,f);return(s=o.diffed)&&s(t),128&t.__u?void 0:l}function H(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(H)}function B(e,t,n){for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function z(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:_(e)?e.map(z):h({},e)}function U(e,t,n,i,u,a,l,c,f){var s,p,d,y,b,v,h,O=n.props||m,S=t.props,P=t.type;if("svg"==P?u="http://www.w3.org/2000/svg":"math"==P?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),null!=a)for(s=0;s<a.length;s++)if((b=a[s])&&"setAttribute"in b==!!P&&(P?b.localName==P:3==b.nodeType)){e=b,a[s]=null;break}if(null==e){if(null==P)return document.createTextNode(S);e=document.createElementNS(u,P,S.is&&S),c&&(o.__m&&o.__m(t,a),c=!1),a=null}if(null==P)O===S||c&&e.data==S||(e.data=S);else{if(a=a&&r.call(e.childNodes),!c&&null!=a)for(O={},s=0;s<e.attributes.length;s++)O[(b=e.attributes[s]).name]=b.value;for(s in O)if(b=O[s],"children"==s);else if("dangerouslySetInnerHTML"==s)d=b;else if(!(s in S)){if("value"==s&&"defaultValue"in S||"checked"==s&&"defaultChecked"in S)continue;N(e,s,null,b,u)}for(s in S)b=S[s],"children"==s?y=b:"dangerouslySetInnerHTML"==s?p=b:"value"==s?v=b:"checked"==s?h=b:c&&"function"!=typeof b||O[s]===b||N(e,s,b,O[s],u);if(p)c||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),k("template"==t.type?e.content:e,_(y)?y:[y],t,n,i,"foreignObject"==P?"http://www.w3.org/1999/xhtml":u,a,l,a?a[0]:n.__k&&E(n,0),c,f),null!=a)for(s=a.length;s--;)g(a[s]);c||(s="value","progress"==P&&null==v?e.removeAttribute("value"):null!=v&&(v!==e[s]||"progress"==P&&!v||"option"==P&&v!=O[s])&&N(e,s,v,O[s],u),s="checked",null!=h&&h!=e[s]&&N(e,s,h,O[s],u))}return e}function F(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function W(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||F(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&W(r[i],t,n||"function"!=typeof e.type);n||g(e.__e),e.__c=e.__=e.__e=void 0}function q(e,t,n){return this.constructor(e,n)}function V(e,t,n){var i,u,a,l;t==document&&(t=document.documentElement),o.__&&o.__(e,t),u=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],l=[],x(t,e=(!i&&n||t).__k=O(P,null,[e]),u||m,m,t.namespaceURI,!i&&n?[n]:u?null:t.firstChild?r.call(t.childNodes):null,a,!i&&n?n:u?u.__e:t.firstChild,i,l),B(a,e,l)}function G(e,t){V(e,t,G)}function Z(e,t,n){var o,i,u,a,l=h({},e.props);for(u in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==u?o=t[u]:"ref"==u?i=t[u]:l[u]=void 0===t[u]&&null!=a?a[u]:t[u];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),S(e.type,l,o||e.key,i||e.ref,null)}function $(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,A(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+y++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}r=b.slice,o={__e:function(e,t,n,r){for(var o,i,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),u=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(t){e=t}throw e}},i=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},w.prototype.render=P,u=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},T.__r=0,f=/(PointerCapture)$|Capture$/i,s=0,p=L(!1),d=L(!0),y=0;var K,Y,X,J,Q=0,ee=[],te=o,ne=te.__b,re=te.__r,oe=te.diffed,ie=te.__c,ue=te.unmount,ae=te.__;function le(e,t){te.__h&&te.__h(Y,e,Q||t),Q=0;var n=Y.__H||(Y.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ce(e){return Q=1,fe(je,e)}function fe(e,t,n){var r=le(K++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):je(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Y,!Y.__f)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!i||i.call(this,e,t,n);var u=r.__c.props!==e;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(u=!0)}}),i&&i.call(this,e,t,n)||u};Y.__f=!0;var i=Y.shouldComponentUpdate,u=Y.componentWillUpdate;Y.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}u&&u.call(this,e,t,n)},Y.shouldComponentUpdate=o}return r.__N||r.__}function se(e,t){var n=le(K++,3);!te.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,Y.__H.__h.push(n))}function pe(e,t){var n=le(K++,4);!te.__s&&Ee(n.__H,t)&&(n.__=e,n.u=t,Y.__h.push(n))}function de(e){return Q=5,me(function(){return{current:e}},[])}function ye(e,t,n){Q=6,pe(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function me(e,t){var n=le(K++,7);return Ee(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function be(e,t){return Q=8,me(function(){return e},t)}function ve(e){var t=Y.context[e.__c],n=le(K++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Y)),t.props.value):e.__}function _e(e,t){te.useDebugValue&&te.useDebugValue(t?t(e):e)}function he(){var e=le(K++,11);if(!e.__){for(var t=Y.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ge(){for(var e;e=ee.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pe),e.__H.__h.forEach(we),e.__H.__h=[]}catch(t){e.__H.__h=[],te.__e(t,e.__v)}}te.__b=function(e){Y=null,ne&&ne(e)},te.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ae&&ae(e,t)},te.__r=function(e){re&&re(e),K=0;var t=(Y=e.__c).__H;t&&(X===Y?(t.__h=[],Y.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Pe),t.__h.forEach(we),t.__h=[],K=0)),X=Y},te.diffed=function(e){oe&&oe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ee.push(t)&&J===te.requestAnimationFrame||((J=te.requestAnimationFrame)||Se)(ge)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),X=Y=null},te.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Pe),e.__h=e.__h.filter(function(e){return!e.__||we(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],te.__e(n,e.__v)}}),ie&&ie(e,t)},te.unmount=function(e){ue&&ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Pe(e)}catch(e){t=e}}),n.__H=void 0,t&&te.__e(t,n.__v))};var Oe="function"==typeof requestAnimationFrame;function Se(e){var t,n=function(){clearTimeout(r),Oe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Oe&&(t=requestAnimationFrame(n))}function Pe(e){var t=Y,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Y=t}function we(e){var t=Y;e.__c=e.__(),Y=t}function Ee(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function je(e,t){return"function"==typeof t?t(e):t}function Ae(e,t){for(var n in t)e[n]=t[n];return e}function Te(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function ke(e,t){var n=t(),r=ce({t:{__:n,u:t}}),o=r[0].t,i=r[1];return pe(function(){o.__=n,o.u=t,Re(o)&&i({t:o})},[e,n,t]),se(function(){return Re(o)&&i({t:o}),e(function(){Re(o)&&i({t:o})})},[e]),n}function Re(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function Ce(e){e()}function Ie(e){return e}function Me(){return[!1,Ce]}var De=pe;function Ne(e,t){this.props=e,this.context=t}(Ne.prototype=new w).isPureReactComponent=!0,Ne.prototype.shouldComponentUpdate=function(e,t){return Te(this.props,e)||Te(this.state,t)};var Le=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Le&&Le(e)};var xe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,He=function(e,t){return null==e?null:I(I(e).map(t))},Be={map:He,forEach:He,count:function(e){return e?I(e).length:0},only:function(e){var t=I(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:I},ze=o.__e;o.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);ze(e,t,n,r)};var Ue=o.unmount;function Fe(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Ae({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return Fe(e,t,n)})),e}function We(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return We(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function qe(){this.__u=0,this.o=null,this.__b=null}function Ve(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ge(){this.i=null,this.l=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ue&&Ue(e)},(qe.prototype=new w).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var o=Ve(r.__v),i=!1,u=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=u;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=We(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(u,u)},qe.prototype.componentWillUnmount=function(){this.o=[]},qe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Fe(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&O(P,null,e.fallback);return o&&(o.__u&=-33),[O(P,null,t.__a?null:e.children),o]};var Ze=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function $e(e){return this.getChildContext=function(){return e.context},e.children}function Ke(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){V(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}V(O($e,{context:t.context},e.__v),t.v)}function Ye(e,t){var n=O(Ke,{__v:e,h:t});return n.containerInfo=t,n}(Ge.prototype=new w).__a=function(e){var t=this,n=Ve(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Ze(t,e,r)):o()};n?n(i):i()}},Ge.prototype.render=function(e){this.i=null,this.l=new Map;var t=I(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ge.prototype.componentDidUpdate=Ge.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Ze(e,n,t)})};var Xe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,et=/[A-Z0-9]/g,tt="undefined"!=typeof document,nt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function rt(e,t,n){return null==t.__k&&(t.textContent=""),V(e,t),"function"==typeof n&&n(),e?e.__c:null}w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ot=o.event;function it(){}function ut(){return this.cancelBubble}function at(){return this.defaultPrevented}o.event=function(e){return ot&&(e=ot(e)),e.persist=it,e.isPropagationStopped=ut,e.isDefaultPrevented=at,e.nativeEvent=e};var lt,ct={enumerable:!1,configurable:!0,get:function(){return this.class}},ft=o.vnode;o.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},o=-1===n.indexOf("-");for(var i in t){var u=t[i];if(!("value"===i&&"defaultValue"in t&&null==u||tt&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===u?u="":"translate"===a&&"no"===u?u=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||nt(t.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":Qe.test(i)&&(i=a):a=i="oninput":o&&Je.test(i)?i=i.replace(et,"-$&").toLowerCase():null===u&&(u=void 0),"oninput"===a&&r[i=a]&&(i="oninputCapture"),r[i]=u}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=I(t.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=I(t.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",ct)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=Xe,ft&&ft(e)};var st=o.__r;o.__r=function(e){st&&st(e),lt=e.__c};var pt=o.diffed;o.diffed=function(e){pt&&pt(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),lt=null};var dt={ReactCurrentDispatcher:{current:{readContext:function(e){return lt.__n[e.__c].props.value},useCallback:be,useContext:ve,useDebugValue:_e,useDeferredValue:Ie,useEffect:se,useId:he,useImperativeHandle:ye,useInsertionEffect:De,useLayoutEffect:pe,useMemo:me,useReducer:fe,useRef:de,useState:ce,useSyncExternalStore:ke,useTransition:Me}}};function yt(e){return!!e&&e.$$typeof===Xe}function mt(e){return yt(e)?Z.apply(null,arguments):e}function bt(e){return!!e.__k&&(V(null,e),!0)}var vt={useState:ce,useId:he,useReducer:fe,useEffect:se,useLayoutEffect:pe,useInsertionEffect:De,useTransition:Me,useDeferredValue:Ie,useSyncExternalStore:ke,startTransition:Ce,useRef:de,useImperativeHandle:ye,useMemo:me,useCallback:be,useContext:ve,useDebugValue:_e,version:"18.3.1",Children:Be,render:rt,hydrate:function(e,t,n){return G(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:bt,createPortal:Ye,createElement:O,createContext:$,createFactory:function(e){return O.bind(null,e)},cloneElement:mt,createRef:function(){return{current:null}},Fragment:P,isValidElement:yt,isElement:yt,isFragment:function(e){return yt(e)&&e.type===P},isMemo:function(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:w,PureComponent:Ne,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:Te(this.props,e)}function r(t){return this.shouldComponentUpdate=n,O(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r},forwardRef:function(e){function t(t){var n=Ae({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=xe,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:P,Suspense:qe,SuspenseList:Ge,lazy:function(e){var t,n,r,o=null;function i(i){if(t||(t=e()).then(function(e){e&&(o=e.default||e),r=!0},function(e){n=e,r=!0}),n)throw n;if(!r)throw t;return o?O(o,i):null}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dt};function _t(e){return{render:function(t){rt(t,e)},unmount:function(){bt(e)}}}var ht=n("./src/config/events.js"),gt=[{id:"showKeyboardHelp",group:"General",title:"Show keyboard help",command:"<kbd>Alt</kbd> + <kbd>K</kbd>",enabled:!0},{id:"selectControl",group:"General",title:"Select a map control",command:"<kbd>Tab</kbd> or <kbd>Shift</kbd> + <kbd>Tab</kbd>",enabled:!0},{id:"moveLarge",group:"Navigation",title:"Move in large steps",command:"<kbd>←</kbd>, <kbd>↑</kbd>, <kbd>→</kbd> or <kbd>↓</kbd>",enabled:!0},{id:"nudgeMap",group:"Navigation",title:"Nudge map",command:"<kbd>Shift</kbd> + <kbd>←</kbd>, <kbd>↑</kbd>, <kbd>→</kbd> or <kbd>↓</kbd>",enabled:!1},{id:"zoomLarge",group:"Navigation",title:"Zoom in large steps",command:"<kbd>+</kbd> or <kbd>-</kbd>",enabled:!0},{id:"nudgeZoom",group:"Navigation",title:"Nudge zoom",command:"<kbd>Shift</kbd> + <kbd>+</kbd> or <kbd>-</kbd>",enabled:!1},{id:"highlightLabelAtCenter",group:"Labels",title:"Highlight label at centre",command:"<kbd>Alt</kbd> + <kbd>Enter</kbd>",enabled:!1},{id:"highlightNextLabel",group:"Labels",title:"Highlight nearby label",command:"<kbd>Alt</kbd> + <kbd>→</kbd>, <kbd>←</kbd>, <kbd>↑</kbd> or <kbd>↓</kbd>",enabled:!1}];function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var St=[],Pt=new Set,wt=new Set,Et=function(){wt=new Set(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},jt=0;function At(e,t,n,r,i,u){t||(t={});var a,l,c=t;if("ref"in c)for(l in c={},t)"ref"==l?a=t[l]:c[l]=t[l];var f={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--jt,__i:-1,__u:0,__source:i,__self:u};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===c[l]&&(c[l]=a[l]);return o.vnode&&o.vnode(f),f}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Array.isArray;var kt=function(){var e,t,n=(e=gt.filter(function(e){return wt.has(e.id)}),[].concat((t=e,function(e){if(Array.isArray(e))return Ot(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),St)).reduce(function(e,t){return e[t.group]=e[t.group]||[],e[t.group].push(t),e},{});return At("div",{className:"im-c-keyboard-help",children:Object.entries(n).map(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0];return At("div",{className:"im-c-keyboard-help__group",children:At("dl",{className:"im-c-keyboard-help__list",children:t[1].map(function(e){return At("div",{className:"im-c-keyboard-help__item",children:[At("dt",{className:"im-c-keyboard-help__title",children:e.title}),At("dd",{className:"im-c-keyboard-help__description",dangerouslySetInnerHTML:{__html:e.command}})]},e.id)})})},n)})})};function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){Mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mt(e,t,n){return(t=function(e){var t=function(e){if("object"!=Rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt={slot:"middle",initiallyOpen:!1,dismissable:!0,modal:!0},Nt={slot:"right-top",showLabel:!1},Lt={slot:"top-left",showLabel:!1},xt={buttons:[{id:"exit",label:"Exit",iconId:"close",onClick:function(e,t){return t.services.closeApp()},excludeWhen:function(e){var t=e.appConfig,n=e.appState;return!t.hasExitButton||!(n.isFullscreen&&new URL(window.location.href).searchParams.has(t.mapViewParamKey))},mobile:Lt,tablet:Lt,desktop:Lt},{id:"fullscreen",label:function(){return"".concat(document.fullscreenElement?"Exit":"Enter"," fullscreen")},iconId:function(){return document.fullscreenElement?"minimise":"maximise"},onClick:function(e,t){var n=t.appState.layoutRefs.appContainerRef.current;document.fullscreenElement?document.exitFullscreen():n.requestFullscreen()},excludeWhen:function(e){var t=e.appState;return!e.appConfig.enableFullscreen||t.isFullscreen},mobile:Nt,tablet:Nt,desktop:Nt},{id:"zoomIn",group:"zoom",label:"Zoom in",iconId:"plus",onClick:function(e,t){var n=t.mapProvider,r=t.appConfig;return n.zoomIn(r.zoomDelta)},excludeWhen:function(e){var t=e.appState;return!e.appConfig.enableZoomControls||"touch"===t.interfaceType},enableWhen:function(e){return!e.mapState.isAtMaxZoom},mobile:Nt,tablet:Nt,desktop:Nt},{id:"zoomOut",group:"zoom",label:"Zoom out",iconId:"minus",onClick:function(e,t){var n=t.mapProvider,r=t.appConfig;return n.zoomOut(r.zoomDelta)},excludeWhen:function(e){var t=e.appState;return!e.appConfig.enableZoomControls||"touch"===t.interfaceType},enableWhen:function(e){return!e.mapState.isAtMinZoom},mobile:Nt,tablet:Nt,desktop:Nt}],panels:[{id:"keyboardHelp",label:"Keyboard shortcuts",mobile:It({},Dt),tablet:It(It({},Dt),{},{width:"500px"}),desktop:It(It({},Dt),{},{width:"500px"}),render:function(){return At(kt,{})}}],icons:[{id:"maximise",svgContent:'<path d="M15 3h6v6"/><path d="m21 3-7 7"/><path d="m3 21 7-7"/><path d="M9 21H3v-6"/>'},{id:"minimise",svgContent:'<path d="m14 10 7-7"/><path d="M20 10h-6V4"/><path d="m3 21 7-7"/><path d="M4 14h6v6"/>'},{id:"plus",svgContent:'<path d="M5 12h14"/><path d="M12 5v14"/>'},{id:"minus",svgContent:'<path d="M5 12h14"/>'}]},Ht={slot:"right-top",showLabel:!1},Bt={label:"Button",mobile:Ht,tablet:Ht,desktop:Ht},zt={showLabel:!0,label:"Panel",mobile:{slot:"bottom",initiallyOpen:!0,dismissable:!0,modal:!1},tablet:{slot:"inset",initiallyOpen:!0,dismissable:!0,modal:!1},desktop:{slot:"inset",initiallyOpen:!0,dismissable:!0,modal:!1},render:null,html:null},Ut={label:"Control",mobile:{slot:"bottom"},tablet:{slot:"inset"},desktop:{slot:"inset"}},Ft={small:1,medium:1.5,large:2},Wt=[{shape:"pin",backgroundPath:"M31 16.001c0 7.489-8.308 15.289-11.098 17.698-.533.4-1.271.4-1.803 0C15.309 31.29 7 23.49 7 16.001c0-6.583 5.417-12 12-12s12 5.417 12 12z",graphicPath:"M19 11.001c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.241 5-5-2.24-5-5-5z"}];function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gt(e,t,n){return(t=function(e){var t=function(e){if("object"!=qt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach(function(t){Gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);for(var r in t)"object"!==qt(t[r])||Array.isArray(t[r])||null===t[r]?n[r]=t[r]:n[r]=Zt(e[r]||{},t[r]);return n};function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach(function(t){Jt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jt(e,t,n){return(t=function(e){var t=function(e){if("object"!=$t(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$t(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qt=function(e,t){return Xt(Xt({},e),t)},en=function(e,t,n){var r=Zt(Bt,n);return Xt(Xt({},e),{},Jt({},t,r))};function tn(){var e={};return{registerButton:function(t){e=Qt(e,t)},addButton:function(t,n){return e=en(e,t,n),t},getButtonConfig:function(t){return function(e,t){return t?Object.fromEntries(Object.entries(e).filter(function(e){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return o[0],o[1].pluginId===t})):e}(e,t)},clear:function(){e={}}}}function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach(function(t){un(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function un(e,t,n){return(t=an(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){var t=function(e){if("object"!=nn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nn(t)?t:t+""}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var cn=function(e,t){var n=Object.fromEntries(Object.entries(t).map(function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[r[0],on({showLabel:!0},r[1])]}));return on(on({},e),n)},fn=function(e,t,n){var r=Zt(zt,n);return on(on({},e),{},un({},t,on(on({},r),{},{html:r.html,render:r.render})))},sn=function(e,t){e[t];var n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,[t].map(an));return n};function pn(){var e={};return{registerPanel:function(t){e=cn(e,t)},addPanel:function(t,n){return(e=fn(e,t,n))[t]},removePanel:function(t){e=sn(e,t)},getPanelConfig:function(){return e},clear:function(){e={}}}}function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach(function(t){bn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bn(e,t,n){return(t=function(e){var t=function(e){if("object"!=dn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==dn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=function(e,t){return mn(mn({},e),t)},_n=function(e,t,n){var r=Zt(Ut,n);return mn(mn({},e),{},bn({},t,mn({id:t},r)))};function hn(){var e={};return{registerControl:function(t){e=vn(e,t)},addControl:function(t,n){return(e=_n(e,t,n))[t]},getControlConfig:function(){return e},clear:function(){e={}}}}function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach(function(t){Pn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pn(e,t,n){return(t=function(e){var t=function(e){if("object"!=gn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn={close:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>'},En=function(){return wn};function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach(function(t){kn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kn(e,t,n){return(t=function(e){var t=function(e){if("object"!=jn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e){var t=e.registerButton,n=e.registerPanel,r=e.registerControl,o=[];return{registeredPlugins:o,registerPlugin:function(e){var i,u,a=e.manifest,l={pluginId:e.id,includeModes:null===(i=e.config)||void 0===i?void 0:i.includeModes,excludeModes:null===(u=e.config)||void 0===u?void 0:u.excludeModes};a.buttons&&(Array.isArray(a.buttons)?a.buttons:[a.buttons]).forEach(function(e){t(kn({},e.id,Tn(Tn({},l),e)))}),a.panels&&(Array.isArray(a.panels)?a.panels:[a.panels]).forEach(function(e){n(kn({},e.id,Tn(Tn({},l),e)))}),a.controls&&(Array.isArray(a.controls)?a.controls:[a.controls]).forEach(function(e){r(kn({},e.id,Tn(Tn({},l),e)))}),a.icons&&(Array.isArray(a.icons)?a.icons:[a.icons]).forEach(function(e){return function(e){wn=Sn(Sn({},wn),e)}(kn({},e.id,e.svgContent))}),a.keyboardShortcuts&&(Array.isArray(a.keyboardShortcuts)?a.keyboardShortcuts:[a.keyboardShortcuts]).forEach(function(e){return function(e){var t=e.shortcut;Pt.has(t.id)||(Pt.add(t.id),St.push(t))}(Tn(Tn({},l),{},{shortcut:e}))}),o.push(e)},clear:function(){o.length=0}}}function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach(function(t){Dn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Dn(e,t,n){return(t=function(e){var t=function(e){if("object"!=Cn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(e)||(e=[]),Array.isArray(t)||(t=[]);var n=new Map(e.map(function(e){return[e.id,e]}));return t.forEach(function(e){e&&e.id&&(n.has(e.id)?n.set(e.id,Mn(Mn({},n.get(e.id)),e)):n.set(e.id,e))}),Array.from(n.values())},r=Mn(Mn({},e),t);return(e.buttons||t.buttons)&&(r.buttons=n(e.buttons,t.buttons)),(e.panels||t.panels)&&(r.panels=n(e.panels,t.panels)),(e.controls||t.controls)&&(r.controls=n(e.controls,t.controls)),(e.icons||t.icons)&&(r.icons=n(e.icons,t.icons)),r}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return Object.keys(e).forEach(function(o){var i,u=e[o][t];null!==(i=null==u?void 0:u.initiallyOpen)&&void 0!==i&&i&&(r[o]=n[o]||{props:{}})}),r}var xn=n("./src/utils/getIsFullscreen.js");function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function zn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach(function(t){Wn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wn(e,t,n){return(t=qn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e){var t=function(e){if("object"!=Bn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bn(t)?t:t+""}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Gn(e,t,n,r){var o,i=e.panelConfig||e.panelRegistry.getPanelConfig(),u=null===(o=i[t])||void 0===o?void 0:o[n],a=!!u.exclusive&&!u.modal,l=!!u.modal,c=Object.fromEntries(Object.entries(e.openPanels).filter(function(e){var t,r,o,u=(r=e,o=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!(null!==(t=i[u])&&void 0!==t&&null!==(t=t[n])&&void 0!==t&&t.exclusive)}));return Fn(Fn(Fn({},a?{}:c),l?e.openPanels:{}),{},Wn({},t,{props:r}))}var Zn={SET_BREAKPOINT:function(e,t){var n,r=t.behaviour,o=t.hybridWidth,i=t.maxMobileWidth,u=Object.keys(e.openPanels).at(-1),a="hybrid"===r?e.isFullscreen:(0,xn.g)({behaviour:r,hybridWidth:o,maxMobileWidth:i});return Fn(Fn({},e),{},{breakpoint:t.breakpoint,isFullscreen:a,previousOpenPanels:e.openPanels,openPanels:u?Gn(e,u,t.breakpoint,(null===(n=e.openPanels[u])||void 0===n?void 0:n.props)||{}):{}})},SET_MEDIA:function(e,t){return Fn(Fn({},e),t)},SET_HYBRID_FULLSCREEN:function(e,t){return Fn(Fn({},e),{},{isFullscreen:t})},SET_INTERFACE_TYPE:function(e,t){return Fn(Fn({},e),{},{interfaceType:t})},SET_MODE:function(e,t){var n=e.panelConfig||e.panelRegistry.getPanelConfig();return Fn(Fn({},e),{},{mode:t,previousMode:e.mode,openPanels:Ln(n,e.breakpoint,e.openPanels)})},SET_SAFE_ZONE_INSET:function(e,t){var n=t.safeZoneInset,r=t.syncMapPadding,o=void 0===r||r;return function(e,t){if(e===t)return!0;if(!e||!t||"object"!==Hn(e)||"object"!==Hn(t))return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return Object.is(e[n],t[n])})}(e.safeZoneInset,n)?e:Fn(Fn({},e),{},{safeZoneInset:n,syncMapPadding:o,isLayoutReady:!0})},REVERT_MODE:function(e){var t=e.panelConfig||e.panelRegistry.getPanelConfig();return Fn(Fn({},e),{},{mode:e.previousMode,previousMode:e.mode,openPanels:Ln(t,e.breakpoint,e.openPanels)})},OPEN_PANEL:function(e,t){var n=t.panelId,r=t.props,o=void 0===r?{}:r;return Fn(Fn({},e),{},{previousOpenPanels:e.openPanels,openPanels:Gn(e,n,e.breakpoint,o)})},CLOSE_PANEL:function(e,t){var n=e.openPanels,r=(n[t],zn(n,[t].map(qn)));return Fn(Fn({},e),{},{previousOpenPanels:e.openPanels,openPanels:r})},CLOSE_ALL_PANELS:function(e){return Fn(Fn({},e),{},{previousOpenPanels:e.openPanels,openPanels:{}})},RESTORE_PREVIOUS_PANELS:function(e){return Fn(Fn({},e),{},{openPanels:e.previousOpenPanels||{},previousOpenPanels:e.openPanels})},TOGGLE_HAS_EXCLUSIVE_CONTROL:function(e,t){return Fn(Fn({},e),{},{hasExclusiveControl:t})},TOGGLE_BUTTON_DISABLED:function(e,t){var n=t.id,r=t.isDisabled,o=new Set(e.disabledButtons);return r?o.add(n):o.delete(n),Fn(Fn({},e),{},{disabledButtons:o})},TOGGLE_BUTTON_HIDDEN:function(e,t){var n=t.id,r=t.isHidden,o=new Set(e.hiddenButtons);return r?o.add(n):o.delete(n),Fn(Fn({},e),{},{hiddenButtons:o})},TOGGLE_BUTTON_PRESSED:function(e,t){var n=t.id,r=t.isPressed,o=new Set(e.pressedButtons);return r?o.add(n):o.delete(n),Fn(Fn({},e),{},{pressedButtons:o})},REGISTER_BUTTON:function(e,t){return Fn(Fn({},e),{},{buttonConfig:Qt(e.buttonConfig,t)})},ADD_BUTTON:function(e,t){var n,r=t.id,o=t.config,i=en(e.buttonConfig,r,o);return null!==(n=e.buttonRegistry)&&void 0!==n&&n.addButton&&e.buttonRegistry.addButton(r,o),Fn(Fn({},e),{},{buttonConfig:i})},REGISTER_PANEL:function(e,t){return Fn(Fn({},e),{},{panelConfig:cn(e.panelConfig,t)})},ADD_PANEL:function(e,t){var n,r=t.id,o=t.config,i=fn(e.panelConfig,r,o),u=i[r];null!==(n=e.panelRegistry)&&void 0!==n&&n.addPanel&&e.panelRegistry.addPanel(r,o);var a=null==u?void 0:u[e.breakpoint],l=null==a?void 0:a.initiallyOpen;return Fn(Fn({},e),{},{panelConfig:i,openPanels:l?Gn(Fn(Fn({},e),{},{panelConfig:i}),r,e.breakpoint,{}):e.openPanels})},REMOVE_PANEL:function(e,t){var n,r=t,o=e.openPanels,i=(o[r],zn(o,[r].map(qn)));return null!==(n=e.panelRegistry)&&void 0!==n&&n.removePanel&&e.panelRegistry.removePanel(r),Fn(Fn({},e),{},{panelConfig:sn(e.panelConfig,r),openPanels:i})},REGISTER_CONTROL:function(e,t){return Fn(Fn({},e),{},{controlConfig:vn(e.controlConfig,t)})},ADD_CONTROL:function(e,t){var n,r=t.id,o=t.config,i=_n(e.controlConfig,r,o);return null!==(n=e.controlRegistry)&&void 0!==n&&n.addControl&&e.controlRegistry.addControl(r,o),Fn(Fn({},e),{},{controlConfig:i})}};function $n(){return{preferredColorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",prefersReducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches}}var Kn=function(e,t){var n=t.type,r=t.payload,o=Zn[n];return o?o(e,r):e};var Yn=$(null);function Xn(){return ve(Yn)}var Jn=n("./src/utils/detectInterfaceType.js");function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Qn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var or=$(null),ir=function(e){var t,n,r=e.options,o=e.children,i=r.pluginRegistry,u=r.buttonRegistry,a=r.panelRegistry,l=r.controlRegistry,c=r.eventBus,f=r.breakpointDetector,s={appContainerRef:de(null),sideRef:de(null),mainRef:de(null),topRef:de(null),topLeftColRef:de(null),topRightColRef:de(null),insetRef:de(null),rightRef:de(null),footerRef:de(null),actionsRef:de(null),bannerRef:de(null),viewportRef:de(null)},p=de({}),d=fe(Kn,function(e){var t=e.initialBreakpoint,n=e.initialInterfaceType,r=e.appColorScheme,o=e.autoColorScheme,i=e.pluginRegistry,u=e.buttonRegistry,a=e.panelRegistry,l=e.controlRegistry,c=e.mode,f=$n(),s=f.preferredColorScheme,p=f.prefersReducedMotion,d=(0,xn.g)(e),y=Ln(a.getPanelConfig(),t);return{isLayoutReady:!1,breakpoint:t,interfaceType:n,preferredColorScheme:o?s:r,prefersReducedMotion:p,isFullscreen:d,mode:c||null,previousMode:null,safeZoneInset:null,disabledButtons:new Set,hiddenButtons:new Set,pressedButtons:new Set,hasExclusiveControl:!1,openPanels:y,previousOpenPanels:{},syncMapPadding:!0,pluginRegistry:i,buttonRegistry:u,panelRegistry:a,controlRegistry:l,buttonConfig:u.getButtonConfig(),panelConfig:a.getPanelConfig(),controlConfig:l.getControlConfig()}}(r)),y=(n=2,function(e){if(Array.isArray(e))return e}(t=d)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1],v=be(function(e){var t=m.panelConfig||r.panelRegistry.getPanelConfig(),n=m;b(e),function(e,t,n,r){var o=e.type,i=e.payload;if("CLOSE_PANEL"===o&&queueMicrotask(function(){r.emit(ht.q.APP_PANEL_CLOSED,{panelId:i})}),"CLOSE_ALL_PANELS"===o&&queueMicrotask(function(){Object.keys(t.openPanels).forEach(function(e){r.emit(ht.q.APP_PANEL_CLOSED,{panelId:e})})}),"OPEN_PANEL"===o){var u=i.panelId,a=i.props,l=function(e,t,n,r){var o,i=null===(o=r[e])||void 0===o?void 0:o[n],u=!(null==i||!i.exclusive||null!=i&&i.modal),a=!(null==i||!i.modal),l=[];if(a)return l;var c=Object.keys(t);return u?c.forEach(function(e){var t,o=null===(t=r[e])||void 0===t?void 0:t[n];null!=o&&o.exclusive||l.push(e)}):c.forEach(function(e){var t,o=null===(t=r[e])||void 0===t?void 0:t[n];null==o||!o.exclusive||null!=o&&o.modal||l.push(e)}),l}(u,t.openPanels,t.breakpoint,n);queueMicrotask(function(){l.forEach(function(e){r.emit(ht.q.APP_PANEL_CLOSED,{panelId:e})}),r.emit(ht.q.APP_PANEL_OPENED,{panelId:u,props:a})})}}(e,n,t,c)},[m,r,c]);!function(e,t){var n=t.appColorScheme,r=t.autoColorScheme,o=t.behaviour,i=t.hybridWidth,u=t.maxMobileWidth;se(function(){var t=[window.matchMedia("(prefers-color-scheme: dark)"),window.matchMedia("(prefers-reduced-motion: reduce)")];function a(){var t=$n(),o=t.preferredColorScheme,i=t.prefersReducedMotion;e({type:"SET_MEDIA",payload:{preferredColorScheme:r?o:n,prefersReducedMotion:i}})}t.forEach(function(e){return e.addEventListener("change",a)});var l=null,c=null;if("hybrid"===o){var f=null!=i?i:u;l=window.matchMedia("(max-width: ".concat(f,"px)")),c=function(t){e({type:"SET_HYBRID_FULLSCREEN",payload:t.matches})},l.addEventListener("change",c)}return function(){t.forEach(function(e){return e.removeEventListener("change",a)}),l&&c&&l.removeEventListener("change",c)}},[e,o,i,u])}(b,r);var _=f.subscribe(function(e){v({type:"SET_BREAKPOINT",payload:{behaviour:r.behaviour,breakpoint:e,hybridWidth:r.hybridWidth,maxMobileWidth:r.maxMobileWidth}})}),h=(0,Jn.Ey)(function(e){v({type:"SET_INTERFACE_TYPE",payload:e})}),g=function(e){v({type:"SET_MODE",payload:e})},O=function(){v({type:"REVERT_MODE"})};se(function(){return c.on(ht.q.APP_SET_MODE,g),c.on(ht.q.APP_REVERT_MODE,O),function(){c.off(ht.q.APP_SET_MODE,g),c.off(ht.q.APP_REVERT_MODE,O),_(),h()}},[]);var S=me(function(){return tr(tr({},m),{},{dispatch:v,layoutRefs:s,buttonRefs:p,pluginRegistry:i,buttonRegistry:u,panelRegistry:a,controlRegistry:l})},[m,v]);return At(Yn.Provider,{value:r,children:At(or.Provider,{value:S,children:o})})};function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach(function(t){cr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cr(e,t,n){return(t=function(e){var t=function(e){if("object"!=ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr={SET_MAP_READY:function(e){return lr(lr({},e),{},{isMapReady:!0})},MAP_MOVE:function(e,t){return lr(lr({},e),t)},MAP_MOVE_END:function(e,t){return lr(lr({},e),t)},MAP_FIRST_IDLE:function(e,t){return lr(lr({},e),t)},SET_MAP_STYLE:function(e,t){return lr(lr({},e),{},{mapStyle:t})},SET_MAP_SIZE:function(e,t){return lr(lr({},e),{},{mapSize:t})},UPDATE_CROSS_HAIR:function(e,t){return lr(lr({},e),{},{crossHair:lr(lr({},e.crossHair),t)})},UPSERT_LOCATION_MARKER:function(e,t){var n=new Map(e.markers.items.map(function(e){return[e.id,e]}));n.set(t.id,t);var r=Array.from(n.values());return lr(lr({},e),{},{markers:lr(lr({},e.markers),{},{items:r})})},REMOVE_LOCATION_MARKER:function(e,t){var n=e.markers.items.filter(function(e){return e.id!==t});return lr(lr({},e),{},{markers:lr(lr({},e.markers),{},{items:n})})}},sr=function(e,t){var n=t.type,r=t.payload,o=fr[n];return o?o(e,r):e};function pr(e){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pr(e)}function dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(n),!0).forEach(function(t){mr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mr(e,t,n){return(t=function(e){var t=function(e){if("object"!=pr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var vr=$(null),_r=function(e){var t,n,r,o,i,u,a,l,c,f,s,p=e.options,d=e.children,y=(f=fe(sr,(n=(t=p).center,r=t.zoom,o=t.bounds,i=t.extent,u=t.mapStyle,a=t.mapSize,l=t.markers,{isMapReady:!1,mapStyle:null!=(c=t.pluginRegistry.registeredPlugins)&&c.find(function(e){var t;return null===(t=e.config)||void 0===t?void 0:t.handlesMapStyle})?null:u,mapSize:a,center:n,zoom:r,bounds:o||i,resolution:null,isAtMaxZoom:null,isAtMinZoom:null,crossHair:{isVisible:!1,isPinnedToMap:!1,state:"active"},markers:{items:l||[]}})),s=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(f,s)||function(e,t){if(e){if("string"==typeof e)return br(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?br(e,t):void 0}}(f,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=y[0],b=y[1],v=function(){b({type:"SET_MAP_READY"})},_=function(e){var t=localStorage.getItem("".concat(p.id,":mapStyleId")),n=e.find(function(e){return e.id===t})||e[0],r=localStorage.getItem("".concat(p.id,":mapSize"))||p.mapSize;b({type:"SET_MAP_STYLE",payload:n}),b({type:"SET_MAP_SIZE",payload:r})},h=function(e){b({type:"SET_MAP_STYLE",payload:e})},g=function(e){b({type:"SET_MAP_SIZE",payload:e})},O=p.eventBus;se(function(){return O.on(ht.q.MAP_READY,v),O.on(ht.q.MAP_INIT_MAP_STYLES,_),O.on(ht.q.MAP_SET_STYLE,h),O.on(ht.q.MAP_SET_SIZE,g),function(){O.off(ht.q.MAP_READY,v),O.off(ht.q.MAP_INIT_MAP_STYLES,_),O.off(ht.q.MAP_SET_STYLE,h),O.off(ht.q.MAP_SET_SIZE,g)}},[]),se(function(){m.mapStyle&&m.mapSize&&(localStorage.setItem("".concat(p.id,":mapStyleId"),m.mapStyle.id),localStorage.setItem("".concat(p.id,":mapSize"),m.mapSize))},[m.mapStyle,m.mapSize]);var S=me(function(){return yr(yr({},m),{},{dispatch:b})},[m]);return At(vr.Provider,{value:S,children:d})};var hr=n("./src/services/reverseGeocode.js"),gr=$(null),Or=function(e){var t=e.eventBus,n=e.children,r=Xn(),o=r.id,i=r.handleExitClick,u=de(null),a=me(function(){return function(e){var t=!1,n=function(t){null!=e&&e.current&&t&&(e.current.textContent="",setTimeout(function(){e.current&&(e.current.textContent=t)},100))},r=function(e){var t=null,n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){e.apply(void 0,r)},500)};return n.cancel=function(){t&&(clearTimeout(t),t=null)},n}(n);return function(e){if(e)return"plugin"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core")?(t=!0,void n(e)):void(t?t=!1:r(e))}}(u)},[]),l=me(function(){return{announce:a,reverseGeocode:function(e,t){return(0,hr.R)(e,t)},events:ht.q,eventBus:t,mapStatusRef:u,closeApp:function(){return function(e,t,n){var r;n.emit(ht.q.MAP_EXIT,{mapId:e}),null!==(r=history.state)&&void 0!==r&&r.isBack?history.back():t()}(o,i,t)}}},[a]);return At(gr.Provider,{value:l,children:n})},Sr=n("./src/InteractiveMap/domStateManager.js");function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach(function(t){Ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ar(e,t,n){return(t=function(e){var t=function(e){if("object"!=Pr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Pr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=$(null),kr=function(e){var t=e.children,n=Xn().pluginRegistry,r={},o={},i=de({});n.registeredPlugins.forEach(function(e){var t=e.reducer;if(t){var n=t.initialState,u=t.actions;r[e.id]=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=null==e?void 0:e[null==n?void 0:n.type];return r?r(t,n.payload):t}}(u),o[e.id]=n}i.current[e.id]||(i.current[e.id]={})});var u,a,l=fe(function(e,t){var n=t.pluginId;return n&&r[n]?jr(jr({},e),{},Ar({},n,r[n](e[n],t))):e},o),c=(a=2,function(e){if(Array.isArray(e))return e}(u=l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(u,a)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(u,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],s=c[1],p=function(e,t){return i.current[e]||(i.current[e]={}),i.current[e][t]||(i.current[e][t]=vt.createRef()),i.current[e][t]},d=me(function(){return{state:f,dispatch:s,refs:i,getPluginRef:p}},[f,s]);return At(Tr.Provider,{value:d,children:t})},Rr=function(e){var t=ve(Tr);if(!t)throw new Error("usePlugin must be used within PluginProvider");var n=t.state,r=t.dispatch,o=t.refs,i=t.getPluginRef;return o.current[e]||(o.current[e]={}),jr(jr({},n[e]),{},{dispatch:function(t){return r(jr(jr({},t),{},{pluginId:e}))},refs:o.current[e],useRef:function(t){return i(e,t)}})};function Cr(){return ve(or)}function Ir(){return ve(vr)}function Mr(){return ve(gr)}function Dr(e){return Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach(function(t){xr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Dr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Br=new Map;function zr(e,t){var n=t.pluginId,r=t.pluginConfig,o=e;return Br.has(o)||Br.set(o,function(t){var o=Xn(),i=Cr(),u=Ir(),a=Mr(),l=Rr(n);return At(e,Lr(Lr({},t),{},{pluginConfig:r,pluginState:l,appConfig:o,appState:i,mapState:u,services:a,mapProvider:o.mapProvider,iconRegistry:En(),buttonConfig:Object.fromEntries(Object.entries(i.buttonConfig).filter(function(e){var t,r,o=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Hr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hr(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return o[0],o[1].pluginId===n}))}))}),Br.get(o)}function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach(function(t){qr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach(function(t){$r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $r(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(){var e=Xn(),t=Cr(),n=Ir(),r=Mr(),o=ve(Tr),i={appConfig:e,appState:t,mapState:n,services:r,mapProvider:null==e?void 0:e.mapProvider,iconRegistry:En()};function u(t,n){var r,u;if(n){var a,l,c=e.pluginRegistry.registeredPlugins.find(function(e){return e.id===n});r=c?Zr({pluginId:c.id},c.config):{},u=Zr(Zr({},null!==(a=null==o||null===(l=o.state)||void 0===l?void 0:l[n])&&void 0!==a?a:{}),{},{dispatch:null==o?void 0:o.dispatch})}var f=Zr(Zr({},i),{},{pluginConfig:r,pluginState:u});return"function"==typeof t?t(f):t}return u.ctx=i,u}var Yr=["api"];function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Jr=function(e){var t,n,r=e.plugin,o=e.mode,i=function(e){var t=de(null),n=Xn(),r=Cr(),o=Ir(),i=Mr(),u=Rr(e);return se(function(){t.current={appConfig:n,appState:r,mapState:o,services:i,mapProvider:n.mapProvider,pluginState:u}}),t}(r.id);se(function(){r.api&&r._originalPlugin&&Object.entries(r.api).forEach(function(e){var t,n,o=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=o[0],a=o[1];r._originalPlugin[u]=function(e,t){var n=t.pluginId,r=t.pluginConfig,o=t.stateRef;return function(){var t=o.current;if(!t)throw new Error('Plugin API "'.concat(n,'" called before state is initialized'));for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return e.apply(void 0,[Wr(Wr({},t),{},{pluginConfig:r,pluginId:n})].concat(u))}}(a,{pluginId:r.id,pluginConfig:(null==r?void 0:r.config)||{},stateRef:i})})},[r,i]);var u=r.InitComponent,a=(null==r?void 0:r.config)||{},l=(a.api,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(a,Yr)),c=r.config||{},f=c.includeModes,s=c.excludeModes,p=null===(t=null==f?void 0:f.includes(o))||void 0===t||t,d=null!==(n=null==s?void 0:s.includes(o))&&void 0!==n&&n;return p&&!d&&u?At(zr(u,{pluginId:r.id,pluginConfig:l}),{}):null},Qr=function(){var e,t,n=Cr().mode,r=Xn().pluginRegistry;e=Cr().dispatch,t=Mr().eventBus,se(function(){var n=function(t){var n=t.id,r=t.config;e({type:"ADD_BUTTON",payload:{id:n,config:r}})},r=function(t){var n=t.id,r=t.config;e({type:"ADD_PANEL",payload:{id:n,config:r}})},o=function(t){e({type:"REMOVE_PANEL",payload:t})},i=function(t){e({type:"OPEN_PANEL",payload:{panelId:t}})},u=function(t){e({type:"CLOSE_PANEL",payload:t})},a=function(t){var n=t.id,r=t.config;e({type:"ADD_CONTROL",payload:{id:n,config:r}})};return t.on(ht.q.APP_ADD_BUTTON,n),t.on(ht.q.APP_ADD_PANEL,r),t.on(ht.q.APP_REMOVE_PANEL,o),t.on(ht.q.APP_SHOW_PANEL,i),t.on(ht.q.APP_HIDE_PANEL,u),t.on(ht.q.APP_ADD_CONTROL,a),function(){t.off(ht.q.APP_ADD_BUTTON,n),t.off(ht.q.APP_ADD_PANEL,r),t.off(ht.q.APP_REMOVE_PANEL,o),t.off(ht.q.APP_SHOW_PANEL,i),t.off(ht.q.APP_HIDE_PANEL,u),t.off(ht.q.APP_ADD_CONTROL,a)}},[e,t]);var o=Kr();return function(e){var t=Cr(),n=Xn().pluginRegistry,r=ve(Tr);se(function(){if(null!=t&&t.dispatch&&r){var o=t.dispatch;n.registeredPlugins.forEach(function(n){var r;((null==n||null===(r=n.manifest)||void 0===r?void 0:r.buttons)||[]).forEach(function(r){var i=n.id;if("function"==typeof r.enableWhen)try{var u=e(r.enableWhen,i),a=t.disabledButtons.has(r.id),l=!u;a!==l&&o({type:"TOGGLE_BUTTON_DISABLED",payload:{id:r.id,isDisabled:l}})}catch(e){console.warn("enableWhen error for button ".concat(r.id,":"),e)}if("function"==typeof r.hiddenWhen)try{var c=e(r.hiddenWhen,i);t.hiddenButtons.has(r.id)!==c&&o({type:"TOGGLE_BUTTON_HIDDEN",payload:{id:r.id,isHidden:c}})}catch(e){console.warn("hiddenWhen error for button ".concat(r.id,":"),e)}if("function"==typeof r.pressedWhen)try{var f=e(r.pressedWhen,i);t.pressedButtons.has(r.id)!==f&&o({type:"TOGGLE_BUTTON_PRESSED",payload:{id:r.id,isPressed:f}})}catch(e){console.warn("pressedWhen error for button ".concat(r.id,":"),e)}})})}},[t,r,e])}(o),At(P,{children:r.registeredPlugins.map(function(e,t){return At(Jr,{plugin:e,mode:n,evaluateProp:o},"init-".concat(e.id,"-").concat(t))})})};function eo(e){return function(e){if(Array.isArray(e))return ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||no(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||no(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){if(e){if("string"==typeof e)return ro(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach(function(t){ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ao(e,t,n){return(t=function(e){var t=function(e){if("object"!=oo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(e){var t=e.mainRef,n=e.insetRef,r=e.rightRef,o=e.actionsRef,i=e.footerRef,u=t.current,a=n.current,l=r.current,c=o.current,f=i.current;if(u&&a&&l&&c&&f){var s=document.documentElement,p=Number.parseInt(getComputedStyle(s).getPropertyValue("--divider-gap"),10),d=c.offsetTop-a.offsetTop-p,y=a.offsetLeft+l.offsetWidth+p,m=u.offsetWidth-2*y,b=a.offsetWidth-y+a.offsetLeft,v=m-b>d-a.offsetHeight,_=a.offsetTop+(!v&&a.offsetHeight>0?a.offsetHeight+p:0),h=v?a.offsetWidth+a.offsetLeft+p:y,g=u.offsetHeight-c.offsetTop,O=u.offsetHeight-f.offsetTop,S=b<m/2&&a.offsetHeight<d/2;return{top:S?a.offsetTop:_,right:y,left:u.offsetLeft+(S?y:Math.max(h,y)),bottom:Math.max(g,O)+p}}};function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fo=function(e,t){return Object.entries(e).reduce(function(e,n){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return co(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],a=i[1];return e[u]=Math.round(a/t),e},{})};function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(t){mo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mo(e,t,n){return(t=function(e){var t=function(e){if("object"!=so(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=so(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==so(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bo=function(e){var t=e.mapContainerRef,n=Xn(),r=n.id,o=n.mapProvider,i=Cr(),u=i.safeZoneInset,a=i.breakpoint,l=i.isLayoutReady,c=i.syncMapPadding,f=Ir(),s=f.isMapReady,p=f.mapStyle,d=f.mapSize,y=f.center,m=f.zoom,b=f.bounds,v=de(!1),_=function(e){var t=e.id,n=e.center,r=e.zoom,o=e.bounds,i=function(e,t){var n=new URLSearchParams(t),r=n.get("".concat(e,":center")),o=n.get("".concat(e,":zoom"));if(!r||!o)return null;var i=to(r.split(",").map(Number),2);return{center:[i[0],i[1]],zoom:Number(o)}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location.search);return i?{center:i.center,zoom:i.zoom}:o?{bounds:o}:{center:n,zoom:r}}({id:r,center:y,zoom:m,bounds:b});return se(function(){if(u&&l&&p&&d&&!v.current)return requestAnimationFrame(function(){o.initMap(yo(yo({},n),{},{pixelRatio:window.devicePixelRatio*Ft[d],container:t.current,padding:u,center:_.center,zoom:_.zoom,bounds:_.bounds,mapStyle:p}))}),v.current=!0,function(){}},[u,l,p,d]),function(){var e=Xn().mapProvider,t=Ir().dispatch,n=Mr().eventBus,r=de(null),o=de(!1);se(function(){if(e){var i=function(e){t({type:"MAP_MOVE",payload:e})},u=function(e){t({type:"MAP_MOVE_END",payload:e}),n.emit(ht.q.MAP_STATE_UPDATED,{previous:r.current,current:e}),r.current=e},a=function(n){o.current||(r.current={center:e.getCenter(),zoom:e.getZoom()},o.current=!0),t({type:"MAP_FIRST_IDLE",payload:n})};return n.on(ht.q.MAP_MOVE,i),n.on(ht.q.MAP_MOVE_END,u),n.on(ht.q.MAP_FIRST_IDLE,a),function(){n.off(ht.q.MAP_MOVE,i),n.off(ht.q.MAP_MOVE_END,u),n.off(ht.q.MAP_FIRST_IDLE,a)}}},[e,t])}(),function(){var e=Xn().id,t=Mr().eventBus;se(function(){if(e){var n=function(t){var n=t.current;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:globalThis.location.href,r=new URL(n||"http://localhost"),o=eo(new URLSearchParams(r.search)).map(function(e){var t=to(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)}),i=[];t.center&&i.push("".concat(e,":center=").concat(t.center[0],",").concat(t.center[1])),null!=t.zoom&&i.push("".concat(e,":zoom=").concat(t.zoom));var u=o.filter(function(e){return!i.some(function(t){return t.split("=")[0]===e.split("=")[0]})}),a=r.hash||"",l="".concat(r.origin).concat(r.pathname,"?").concat([].concat(eo(u),i).join("&")).concat(a);globalThis.history.replaceState(globalThis.history.state,"",l)}(e,{center:n.center,zoom:n.zoom})};return t.on(ht.q.MAP_STATE_UPDATED,n),function(){return t.off(ht.q.MAP_STATE_UPDATED,n)}}},[e])}(),function(){var e=Xn().mapProvider,t=Mr(),n=t.eventBus,r=t.announce;se(function(){var t=function(t){var n,o,i,u=t.previous,a=t.current;if(null!=u&&u.center&&null!=a&&a.center){var l,c=u.zoom!==a.zoom,f=u.center[0]!==a.center[0]||u.center[1]!==a.center[1],s=e.getAreaDimensions();if(f&&!c)l=function(e){var t=e.direction;return"Map moved ".concat(t,".")}({direction:e.getCardinalMove(u.center,a.center),areaDimensions:s});else l=!f&&c?function(e){var t=e.from,n=e.to,r=e.areaDimensions,o=e.isAtMaxZoom,i=e.isAtMinZoom;return"Map zoomed ".concat(n>t?"in":"out").concat(o?" (Maximum zoom)":"").concat(i?" (Minimum zoom)":"",". New area approximately ").concat(r,".")}(uo(uo({},a),{},{from:u.zoom,to:a.zoom,areaDimensions:s})):f||c?function(e){var t=e.areaDimensions,n=e.isAtMaxZoom,r=e.isAtMinZoom;return"New area approximately ".concat(t).concat(n?" (Maximum zoom)":"").concat(r?" (Minimum zoom)":"",".")}(uo(uo({},a),{},{areaDimensions:s})):(n=uo({},a),o=n.isAtMaxZoom,i=n.isAtMinZoom,"No change, ".concat(o?"maximum zoom reached":"").concat(i?"minimum zoom reached":"","."));l&&r(l,"core")}};return n.on(ht.q.MAP_STATE_UPDATED,t),function(){n.off(ht.q.MAP_STATE_UPDATED,t)}},[e,r])}(),function(){var e=Xn().mapProvider,t=Cr(),n=t.dispatch,r=t.layoutRefs,o=Ir().mapSize,i=de(o);i.current=o;var u=function(){var t=lo(r),o=fo(t,Ft[i.current]);"function"==typeof n&&n({type:"SET_SAFE_ZONE_INSET",payload:{safeZoneInset:t,syncMapPadding:!1}}),"function"==typeof e.setPadding&&e.setPadding(o)};se(function(){if(e){var t=e.fitToBounds;e.fitToBounds=function(n){if(n)return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||u(),t.call(e,n)};var n=e.setView;return e.setView=function(t){var r=t.center,o=t.zoom;if(r)return u(),n.call(e,{center:r,zoom:o})},function(){e.fitToBounds=t,e.setView=n}}},[e,n,r,o])}(),se(function(){s&&c&&o.setPadding(fo(u,Ft[d]))},[s,d,a,u]),null},vo={keydown:{ArrowUp:"panUp",ArrowDown:"panDown",ArrowLeft:"panLeft",ArrowRight:"panRight","+":"zoomIn","=":"zoomIn","-":"zoomOut",_:"zoomOut"},keyup:{"Alt+k":"showKeyboardControls","Alt+K":"showKeyboardControls","Alt+ArrowRight":"highlightNextLabel","Alt+ArrowLeft":"highlightNextLabel","Alt+ArrowUp":"highlightNextLabel","Alt+ArrowDown":"highlightNextLabel","Alt+Enter":"highlightLabelAtCenter","Alt+i":"getInfo","Alt+I":"getInfo",Escape:"clearSelection"}};function _o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return ho(c,"_invoke",function(n,r,o){var i,a,l,c=0,f=o||[],s=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(n,r){for(a=n,l=r,t=0;!s&&c&&!o&&t<f.length;t++){var o,i=f[t],d=p.p,y=i[2];n>3?(o=y===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,a=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,y){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,y),a=f,l=y;(t=a<2?e:l)||!s;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(s=p.n<0)?l:n.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:t,done:s}}}(n,o,i),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(ho(t={},r,function(){return this}),t),s=c.prototype=a.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ho(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=c,ho(s,"constructor",c),ho(c,"constructor",l),l.displayName="GeneratorFunction",ho(c,o,"GeneratorFunction"),ho(s),ho(s,o,"Generator"),ho(s,r,function(){return this}),ho(s,"toString",function(){return"[object Generator]"}),(_o=function(){return{w:i,m:p}})()}function ho(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ho=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{function i(t,n){ho(e,t,function(e){return this._invoke(t,n,e)})}i("next",0),i("throw",1),i("return",2)}},ho(e,t,n,r)}function go(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function Oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Po=function(){return At("div",{ref:Mr().mapStatusRef,role:"status",className:"im-c-viewport__status","aria-live":"polite","aria-atomic":"true","aria-label":"Map updates"})},wo={active:"M5.035 20H1v-2h4.035C5.525 11.069 11.069 5.525 18 5.035V1h2v4.035c6.931.49 12.475 6.034 12.965 12.965H37v2h-4.035c-.49 6.931-6.034 12.475-12.965 12.965V37h-2v-4.035C11.069 32.475 5.525 26.931 5.035 20zM19 7c-6.581.005-11.995 5.419-12 12 .005 6.581 5.419 11.995 12 12 6.581-.005 11.995-5.419 12-12-.005-6.581-5.419-11.995-12-12zm0 10a2.01 2.01 0 0 1 2 2 2.01 2.01 0 0 1-2 2 2.01 2.01 0 0 1-2-2 2.01 2.01 0 0 1 2-2z",inactive:"M5.035 20H1v-2h4.035a13.98 13.98 0 0 1 .246-1.8l1.96.399C7.083 17.375 7 18.178 7 19s.083 1.625.241 2.401l-1.96.399a13.98 13.98 0 0 1-.246-1.8zM20 5.035a13.98 13.98 0 0 1 1.8.246l-.399 1.96C20.625 7.083 19.822 7 19 7s-1.625.083-2.401.241l-.399-1.96a13.98 13.98 0 0 1 1.8-.246V1h2v4.035zm-2 27.93a13.98 13.98 0 0 1-1.8-.246l.399-1.96c.776.158 1.579.241 2.401.241s1.625-.083 2.401-.241l.399 1.96a13.98 13.98 0 0 1-1.8.246V37h-2v-4.035zM32.965 20a13.98 13.98 0 0 1-.246 1.8l-1.96-.399c.158-.776.241-1.579.241-2.401s-.083-1.625-.241-2.401l1.96-.399a13.98 13.98 0 0 1 .246 1.8H37v2h-4.035zM19 17a2.01 2.01 0 0 1 2 2 2.01 2.01 0 0 1-2 2 2.01 2.01 0 0 1-2-2 2.01 2.01 0 0 1 2-2zm3.8-9.385l.634-1.897c1.789.598 3.438 1.553 4.848 2.805l-1.327 1.496c-1.196-1.06-2.605-1.886-4.155-2.404zm5.181 3.43l1.496-1.327c1.252 1.41 2.207 3.059 2.805 4.848l-1.897.634c-.518-1.55-1.344-2.959-2.404-4.155zM30.385 22.8l1.897.634c-.598 1.789-1.553 3.438-2.805 4.848l-1.496-1.327c1.06-1.196 1.886-2.605 2.404-4.155zm-3.43 5.181l1.327 1.496c-1.41 1.252-3.059 2.207-4.848 2.805l-.634-1.897c1.55-.518 2.959-1.344 4.155-2.404zM15.2 30.385l-.634 1.897c-1.789-.598-3.438-1.553-4.848-2.805l1.327-1.496c1.196 1.06 2.605 1.886 4.155 2.404zm-5.181-3.43l-1.496 1.327c-1.252-1.41-2.207-3.059-2.805-4.848l1.897-.634c.518 1.55 1.344 2.959 2.404 4.155zM7.615 15.2l-1.897-.634c.598-1.789 1.553-3.438 2.805-4.848l1.496 1.327c-1.06 1.196-1.886 2.605-2.404 4.155zm3.43-5.181L9.718 8.523c1.41-1.252 3.059-2.207 4.848-2.805l.634 1.897c-1.55.518-2.959 1.344-4.155 2.404z"},Eo=function(){var e=Xn().id,t=function(){var e=Xn().mapProvider,t=Cr().safeZoneInset,n=Mr().eventBus,r=Ir(),o=r.crossHair,i=r.dispatch,u=r.mapSize,a=function(e,n,r){if(t){var o=n*Ft[u],i=r*Ft[u];e.style.transform="translate(".concat(o-t.left,"px, ").concat(i-t.top,"px)"),e.style.left="0",e.style.top="0",e.style.display="block"}},l=be(function(t){if(t){o.pinToMap=function(n,r){var u=e.mapToScreen(n),l=u.x,c=u.y;o.coords=n,i({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!0,isVisible:!0,coords:n,state:r}}),a(t,l,c)},o.fixAtCenter=function(){t.style.left="50%",t.style.top="50%",t.style.transform="translate(0,0)",t.style.display="block",i({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!1,isVisible:!0}})},o.remove=function(){t.style.display="none",i({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!1,isVisible:!1}})},o.show=function(){t.style.display="block",i({type:"UPDATE_CROSS_HAIR",payload:{isVisible:!0}})},o.hide=function(){t.style.display="none",i({type:"UPDATE_CROSS_HAIR",payload:{isVisible:!1}})},o.setStyle=function(e){i({type:"UPDATE_CROSS_HAIR",payload:{state:e}})},o.getDetail=function(){var t=o.isPinnedToMap?o.coords:e.getCenter();return{state:o.state,point:e.mapToScreen(t),zoom:e.getZoom(),coords:t}};var r=function(){if(o.coords&&o.isPinnedToMap){var n=e.mapToScreen(o.coords),r=n.x,i=n.y;a(t,r,i,o.state)}};return n.on(ht.q.MAP_RENDER,r),function(){n.off(ht.q.MAP_RENDER,r)}}},[o,e,u,i,t]);return se(function(){o.coords&&o.isPinnedToMap&&o.pinToMap(o.coords,o.state)},[u]),{crossHair:o,crossHairRef:l}}(),n=t.crossHairRef,r=t.crossHair,o=r.isVisible,i=r.isPinnedToMap,u=r.state;return At("svg",{id:"".concat(e,"-cross-hair"),ref:n,className:"im-c-cross-hair",width:"38",height:"38",viewBox:"0 0 38 38",fillRule:"evenodd",fill:"currentColor",style:{position:"absolute",left:i?0:"50%",top:i?0:"50%",pointerEvents:"none",display:o?"block":"none"},children:At("path",{d:wo[u||"active"]})})};function jo(e){return jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(t){ko(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ko(e,t,n){return(t=function(e){var t=function(e){if("object"!=jo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=function(e,t,n,r){if(!t||!r)return{x:0,y:0};var o=t.mapToScreen(e),i=o.x,u=o.y;return{x:i*Ft[n],y:u*Ft[n]-19}};function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}var Io=function(e,t){if(!e)return null;if("string"==typeof e)return e.trim();if("object"===Co(e)){if(t&&e[t])return e[t];var n=Object.values(e)[0];return null!=n?n:null}return null};function Mo(e){return null==e?void 0:e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}var Do=function(){var e=Xn(),t=e.id,n=e.markerShape,r=e.markerColor,o=Ir().mapStyle,i=function(){var e=Xn().mapProvider,t=Mr().eventBus,n=Ir(),r=n.markers,o=n.dispatch,i=n.mapSize,u=n.isMapReady,a=de(new Map);se(function(){e&&(r.markerRefs=a.current,r.add=function(t,n,r){var a=Ro(n,e,i,u),l=a.x,c=a.y;o({type:"UPSERT_LOCATION_MARKER",payload:To(To({id:t,coords:n},r),{},{x:l,y:c,isVisible:!0})})},r.remove=function(e){o({type:"REMOVE_LOCATION_MARKER",payload:e})},r.getMarker=function(e){return r.items.find(function(t){return t.id===e})})},[e,r,o,i]);var l=be(function(n){return function(o){if(o){a.current.set(n,o);var l=function(){u&&e&&r.items.forEach(function(t){var n=a.current.get(t.id);if(n&&t.coords){var r=Ro(t.coords,e,i,u),o=r.x,l=r.y;n.style.transform="translate(".concat(o,"px, ").concat(l,"px)"),n.style.display="block"}})};return t.on(ht.q.MAP_RENDER,l),function(){t.off(ht.q.MAP_RENDER,l)}}a.current.delete(n)}},[r,e,u,i]);return se(function(){u&&e&&r.items.forEach(function(t){var n=a.current.get(t.id);if(n&&t.coords){var r=Ro(t.coords,e,i,u),o=r.x,l=r.y;n.style.transform="translate(".concat(o,"px, ").concat(l,"px)")}})},[i,r.items,e,u]),se(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.id&&e.coords){var t=e.id,n=e.coords,o=e.options;r.add(t,n,o)}};t.on(ht.q.APP_ADD_MARKER,e);var n=function(e){e&&r.remove(e)};return t.on(ht.q.APP_REMOVE_MARKER,n),function(){t.off(ht.q.APP_ADD_MARKER,e),t.off(ht.q.APP_REMOVE_MARKER,n)}},[]),{markers:r,markerRef:l}}(),u=i.markers,a=i.markerRef;if(o){var l=Wt.find(function(e){return e.shape===n});return At(P,{children:u.items.map(function(e){return At("svg",{ref:a(e.id),id:"".concat(t,"-marker-").concat(e.id),className:"im-c-marker im-c-marker--".concat(e.markerShape||Mo(n)),width:"38",height:"38",viewBox:"0 0 38 38",style:{display:e.isVisible?"block":"none"},children:[At("path",{className:"im-c-marker__background",d:l.backgroundPath,fill:Io(e.color||r,o.id)}),At("path",{className:"im-c-marker__graphic",d:l.graphicPath})]},e.id)})})}};function No(e){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},No(e)}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xo=function(e){var t,n,r=e.keyboardHintPortalRef,o=Xn(),i=o.id,u=o.mapProvider,a=o.mapLabel,l=o.keyboardHintText,c=Cr(),f=c.interfaceType,s=c.mode,p=c.previousMode,d=c.layoutRefs,y=c.safeZoneInset,m=Ir().mapSize,b=de(null),v=de(null),_=(t=ce(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Lo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lo(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=_[0],g=_[1];!function(e){var t=Xn(),n=t.mapProvider,r=t.panDelta,o=t.nudgePanDelta,i=t.zoomDelta,u=t.nudgeZoomDelta,a=t.readMapText,l=Cr(),c=l.interfaceType,f=l.dispatch,s=Mr().announce;se(function(){var t=e.current;if(t&&"keyboard"===c){var l=function(e,t,n){var r,o=n.containerRef,i=n.dispatch,u=n.panDelta,a=n.nudgePanDelta,l=n.zoomDelta,c=n.nudgeZoomDelta,f=n.readMapText,s=function(e){return e?a:u},p=function(e){return e?c:l};return{showKeyboardControls:function(){i({type:"OPEN_PANEL",payload:{panelId:"keyboardHelp",props:{triggeringElement:o.current}}})},panUp:function(t){return e.panBy([0,-s(t.shiftKey)])},panDown:function(t){return e.panBy([0,s(t.shiftKey)])},panLeft:function(t){return e.panBy([-s(t.shiftKey),0])},panRight:function(t){return e.panBy([s(t.shiftKey),0])},zoomIn:function(t){return e.zoomIn(p(t.shiftKey))},zoomOut:function(t){return e.zoomOut(p(t.shiftKey))},getInfo:(r=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){go(i,r,o,u,a,"next",e)}function a(e){go(i,r,o,u,a,"throw",e)}u(void 0)})}}(_o().m(function n(r){var o,i,u,a;return _o().w(function(n){for(;;)switch(n.n){case 0:return i=e.getCenter(),n.n=1,(0,hr.R)(e.getZoom(),i);case 1:u=n.v,a=null===(o=e.getAreaDimensions)||void 0===o?void 0:o.call(e),t("".concat(u,".").concat(a?" Covering "+a+".":""),"core");case 2:return n.a(2)}},n)})),function(e){return r.apply(this,arguments)}),highlightNextLabel:function(n){if(f||!e.highlightNextLabel){var r=e.highlightNextLabel(n.key);t(r,"core")}},highlightLabelAtCenter:function(){if(f||!e.highlightNextLabel){var n=e.highlightLabelAtCenter();t(n,"core")}},clearSelection:function(){var t;return null==e||null===(t=e.clearHighlightedLabel)||void 0===t?void 0:t.call(e)}}}(n,s,{containerRef:e,dispatch:f,panDelta:r,nudgePanDelta:o,zoomDelta:i,nudgeZoomDelta:u,readMapText:a}),p=function(e){return function(t){var n=vo[e][function(e){var t;return"Add"===(t=/^Key[A-Z]$/.test(e.code)?e.code.slice(3):e.key)||"NumpadAdd"===t?t="+":"Subtract"!==t&&"NumpadSubtract"!==t||(t="-"),e.altKey?"Alt+".concat(t):t}(t)];n&&l[n]&&(l[n](t),t.preventDefault())}},d=p("keydown"),y=p("keyup");return t.addEventListener("keydown",d),t.addEventListener("keyup",y),function(){t.removeEventListener("keydown",d),t.removeEventListener("keyup",y)}}},[e,c,n,r,o,i,u])}(d.viewportRef),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Xn().mapProvider,n=Mr().eventBus;se(function(){if(t){var r={};return Object.entries(e).forEach(function(e){var t=Oo(e,2),o=t[0],i=t[1],u=function(e){return i(e)};r[o]=u,n.on(o,u)}),function(){Object.entries(r).forEach(function(e){var t=Oo(e,2),r=t[0],o=t[1];n.off(r,o)})}}},[t,e])}(function(e,t,n){return(t=function(e){var t=function(e){if("object"!=No(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=No(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==No(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ht.q.MAP_CLICK,function(e){var t;return null==u||null===(t=u.clearHighlightedLabel)||void 0===t?void 0:t.call(u)}));var O=function(e){var t=e.interfaceType,n=e.containerRef,r=e.keyboardHintRef,o=e.onViewportFocusChange,i=e.keyboardHintVisible;return se(function(){if(i&&n.current){var e=n.current,t=function(e){["Escape","Tab"].includes(e.key)&&o(!1)},u=function(t){var n,i=e.contains(t.target),u=null===(n=r.current)||void 0===n?void 0:n.contains(t.target);i&&!u&&o(!1)};return e.addEventListener("keydown",t),e.addEventListener("mousedown",u),function(){e.removeEventListener("keydown",t),e.removeEventListener("mousedown",u)}}},[i,n,r,o]),{showHint:i,handleFocus:function(){"keyboard"===t&&o(!0)},handleBlur:function(){o(!1)}}}({interfaceType:f,containerRef:d.viewportRef,keyboardHintRef:v,keyboardHintVisible:h,onViewportFocusChange:g}),S=O.showHint,w=O.handleFocus,E=O.handleBlur;return se(function(){var e;s&&p&&s!==p&&(null===(e=d.viewportRef)||void 0===e||e.current.focus())},[s]),se(function(){var e,t=null===(e=d.mainRef)||void 0===e?void 0:e.current;if(t)return t.classList.toggle("im-o-app__main--keyboard-hint-visible",S),function(){return null==t?void 0:t.classList.remove("im-o-app__main--keyboard-hint-visible")}},[S]),At(P,{children:[At(bo,{mapContainerRef:b}),At("div",{id:"".concat(i,"-viewport"),className:"im-c-viewport im-c-viewport--".concat(m),"aria-label":a,role:"application",tabIndex:"0",onFocus:w,onBlur:E,ref:d.viewportRef,children:[S&&(null==r?void 0:r.current)&&Ye(At("div",{className:"im-c-viewport__keyboard-hint","aria-hidden":"true",ref:v,dangerouslySetInnerHTML:{__html:l}}),r.current),At("div",{className:"im-c-viewport__map-container",ref:b}),At("div",{className:"im-c-viewport__features"}),At(Po,{}),At("div",{className:"im-c-viewport__safezone",style:y,ref:d.safeZoneRef,children:At(Eo,{})}),At(Do,{})]})]})};function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bo(e,t){var n=de(),r=de(new WeakMap);return se(function(){var o=(Array.isArray(e)?e:[e]).map(function(e){return null==e?void 0:e.current}).filter(Boolean);if(o.length&&t){var i=new ResizeObserver(function(e){var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ho(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ho(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,u=i.contentRect,a=u.width,l=u.height,c=r.current.get(i.target)||{};c.width===a&&c.height===l||(r.current.set(i.target,{width:a,height:l}),t(i))}}catch(e){o.e(e)}finally{o.f()}});return o.forEach(function(e){return i.observe(e)}),function(){i.disconnect(),n.current&&cancelAnimationFrame(n.current)}}},[e,t]),{frameRef:n}}var zo=function(){var e=Ir().mapStyle;if(null!=e&&e.logo)return At("img",{className:"im-c-logo",src:e.logo,alt:e.logoAltText})},Uo=function(){var e=Cr().breakpoint,t=Ir().mapStyle;if(t)return"mobile"!==e&&At("div",{className:"im-c-attributions",dangerouslySetInnerHTML:{__html:t.attribution}})},Fo=Object.freeze({SIDE:"side",BANNER:"banner",TOP_LEFT:"top-left",TOP_MIDDLE:"top-middle",TOP_RIGHT:"top-right",INSET:"inset",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",MIDDLE:"middle",FOOTER_RIGHT:"footer-right",BOTTOM:"bottom",ACTIONS:"actions",MODAL:"modal"}),Wo=Object.freeze({control:[Fo.BANNER,Fo.TOP_LEFT,Fo.TOP_RIGHT,Fo.INSET,Fo.MIDDLE,Fo.FOOTER_RIGHT,Fo.BOTTOM,Fo.ACTIONS],panel:[Fo.SIDE,Fo.BANNER,Fo.INSET,Fo.MIDDLE,Fo.BOTTOM,Fo.ACTIONS,Fo.DRAWER,Fo.MODAL],button:[Fo.TOP_LEFT,Fo.TOP_MIDDLE,Fo.TOP_RIGHT,Fo.RIGHT_TOP,Fo.RIGHT_BOTTOM,Fo.ACTIONS]}),qo=n("./src/utils/toggleInertElements.js");function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Go=function(e){var t=e.id,n=e.svgContent;return At("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false",dangerouslySetInnerHTML:{__html:En()[t]||n}})};function Zo(e){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(e)}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach(function(t){Yo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yo(e,t,n){return(t=function(e){var t=function(e){if("object"!=Zo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Zo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo=function(e){var t,n,r,o,i,u,a,l,c=e.panelId,f=e.panelConfig,s=e.props,p=e.WrappedChild,d=e.label,y=e.html,m=e.children,b=Xn().id,v=Cr(),_=v.dispatch,h=v.breakpoint,g=v.layoutRefs,O=document.getElementById("".concat(b,"-im-app")),S=f[h],P="".concat(b,"-panel-").concat(Mo(c)),w="side"===S.slot&&S.initiallyOpen&&!S.modal,E=!w&&S.dismissable,j=!0===S.modal,A=!1!==S.dismissable,T=Boolean(j||(null==s?void 0:s.triggeringElement)),k=S.slot.endsWith("button")?null==s||null===(t=s.triggeringElement)||void 0===t?void 0:t.parentNode:void 0,R=g.mainRef,C=de(null),I=de(null),M=(n=I,a=ce(!1),l=2,r=function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(a,l)||function(e,t){if(e){if("string"==typeof e)return Vo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}(a,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],u=be(function(){var e=null==n?void 0:n.current;e&&i(e.scrollHeight>e.clientHeight)},[n]),Bo(n,u),o),D=function(){requestAnimationFrame(function(){var e,t;null===(e=(t=(null==s?void 0:s.triggeringElement)||g.viewportRef.current).focus)||void 0===e||e.call(t)}),_({type:"CLOSE_PANEL",payload:c})};(function(e){var t=e.mainRef,n=e.panelRef,r=e.isModal,o=e.rootEl,i=e.buttonContainerEl,u=e.handleClose;se(function(){if(r){var e=function(e){"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),u()),"Tab"===e.key&&n.current&&function(e,t){if("Tab"===t.key){var n=Array.from(e.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(",")));if(0!==(n=n.filter(function(e){return!!e.offsetParent})).length){var r=n[0],o=n[n.length-1];!t.shiftKey||document.activeElement!==e&&document.activeElement!==r||(o.focus(),t.preventDefault()),t.shiftKey||document.activeElement!==o||(r.focus(),t.preventDefault())}}}(n.current,e)},t=n.current;return null==t||t.addEventListener("keydown",e),function(){null==t||t.removeEventListener("keydown",e)}}},[r,n,u]);var a=document.documentElement,l=parseInt(getComputedStyle(a).getPropertyValue("--divider-gap"),10);Bo([t],function(){if(r&&i&&t.current){var e=t.current.getBoundingClientRect(),n=i.getBoundingClientRect(),o=n.top-e.top,u=Math.round(e.right-n.right+n.width+l);a.style.setProperty("--modal-inset","".concat(o,"px ").concat(u,"px auto auto"))}}),se(function(){if(r){var e=function(e){var t=e.target.closest(".im-o-app__modal-backdrop");o&&t&&o.contains(t)&&u()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}},[r,o,u]),se(function(){if(r&&n.current&&o)return(0,qo.U)({containerEl:n.current,isFullscreen:!0,boundaryEl:o}),function(){(0,qo.U)({containerEl:n.current,isFullscreen:!1,boundaryEl:o})}},[r,n,o]),se(function(){if(r){var e=function(e){var t=e.target,r=n.current;if(t&&r&&o){var i=o.contains(t),u=r.contains(t);i&&!u&&r.focus()}};return document.addEventListener("focusin",e),function(){document.removeEventListener("focusin",e)}}},[r,n,o])})({mainRef:R,panelRef:C,isModal:j,isAside:w,rootEl:O,buttonContainerEl:k,handleClose:D}),se(function(){T&&C.current.focus()},[]);var N=["im-c-panel","im-c-panel--".concat(S.slot),!f.showLabel&&"im-c-panel--no-heading"].filter(Boolean).join(" "),L=["im-c-panel__body",!f.showLabel&&A&&"im-c-panel__body--offset"].filter(Boolean).join(" "),x=me(function(){return y?{__html:y}:null},[y]);return At("div",{ref:C,id:P,"aria-labelledby":"".concat(P,"-label"),tabIndex:T?-1:void 0,role:E?"dialog":A?"complementary":"region","aria-modal":E&&j?"true":void 0,style:S.width?{width:S.width}:void 0,className:N,children:[At("h2",{id:"".concat(P,"-label"),className:f.showLabel?"im-c-panel__heading im-e-heading-m":"im-u-visually-hidden",children:d}),A&&At("button",{"aria-label":"Close ".concat(d),className:"im-c-panel__close",onClick:D,children:At(Go,{id:"close"})}),At("div",x?{ref:I,className:L,tabIndex:M?0:void 0,dangerouslySetInnerHTML:x}:{ref:I,className:L,tabIndex:M?0:void 0,role:M?"region":void 0,"aria-labelledby":M?"".concat(P,"-label"):void 0,children:p?At(p,Ko({},s)):m})]})};function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach(function(t){ti(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ti(e,t,n){return(t=function(e){var t=function(e){if("object"!=Jo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Jo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ri(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ri(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||ii(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){if(e){if("string"==typeof e)return ui(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(e,t):void 0}}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ai(e){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ai(e)}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ci(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fi=0,si=function(e){var t=e.children,n=e.content,r=Cr().interfaceType,o=de(null),i=de(null),u=li(ce(!1),2),a=u[0],l=u[1],c=li(ce(!1),2),f=c[0],s=c[1],p=li(ce(null),2),d=p[0],y=p[1],m=li(ce(function(){return"tooltip-".concat(fi+=1)}),1)[0],b=de(null),v=de(null),_=function(){clearTimeout(b.current),l(!1)},h=function(){clearTimeout(v.current),b.current=setTimeout(function(){return l(!0)},500)},g=function(){clearTimeout(b.current),v.current=setTimeout(function(){return l(!1)},0)};se(function(){var e=function(e){"Escape"===e.key&&(clearTimeout(b.current),clearTimeout(v.current),l(!1))};if(window.addEventListener("keydown",e),a){var t=function(e,t){if(!e)return"bottom";t||(t=e.closest(".im-o-app__main"));var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o={top:n.top-r.top,bottom:r.bottom-n.bottom,left:n.left-r.left,right:r.right-n.right},i=Object.entries(o),u=i.sort(function(e,t){return oi(e,2)[1]-oi(t,2)[1]}),a=oi(u[0],2),l=a[0],c=a[1];if("top"===l||"bottom"===l){var f,s=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ii(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}(i);try{for(s.s();!(f=s.n()).done;){var p=oi(f.value,2),d=p[0],y=p[1];if(("left"===d||"right"===d)&&Math.abs(y-c)<=50)return"left"===d?"right":"left"}}catch(e){s.e(e)}finally{s.f()}}return{top:"bottom",bottom:"top",left:"right",right:"left"}[l]}(o.current);y(t)}return function(){window.removeEventListener("keydown",e),clearTimeout(b.current),clearTimeout(v.current)}},[a]);var O=mt(t,{ref:function(e){var n;o.current=e;var r=null===(n=t.props)||void 0===n?void 0:n.ref;"function"==typeof r?r(e):r&&"object"===ai(r)&&(r.current=e)},onMouseEnter:h,onMouseLeave:g,onMouseDown:_,onKeyDown:_,onFocus:function(e){"keyboard"===r&&h(),s(!0)},onBlur:function(e){g(),s(!1)},"aria-labelledby":m});return At("div",{className:"im-c-tooltip-wrapper".concat(f?" im-c-tooltip-wrapper--has-focus":""),children:[O,At("div",{id:m,ref:i,className:"im-c-tooltip im-c-tooltip--".concat(d||"hidden"," ").concat(a?"im-c-tooltip--is-visible":""),role:"tooltip","aria-hidden":!a,children:n})]})};function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach(function(t){mi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mi(e,t,n){return(t=function(e){var t=function(e){if("object"!=pi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=function(e){var t=e.buttonId,n=e.iconId,r=e.iconSvgContent,o=e.label,i=e.showLabel,u=e.isDisabled,a=e.isExpanded,l=e.isPressed,c=e.isHidden,f=e.isOpen,s=e.variant,p=e.onClick,d=e.panelId,y=e.idPrefix,m=e.href,b=e.groupMiddle,v=e.groupStart,_=e.groupEnd,h=Xn().id,g=Cr().buttonRefs,O=["im-c-map-button",t&&"im-c-map-button--".concat(Mo(t)),s&&"im-c-map-button--".concat(s),i&&"im-c-map-button--with-label"].filter(Boolean).join(" "),S=m?"a":"button",P=yi({id:"".concat(h,"-").concat(Mo(t)),className:O,onClick:p,ref:function(e){g.current&&t&&(g.current[t]=e)},"aria-disabled":u||void 0,"aria-expanded":"boolean"==typeof a?a:void 0,"aria-pressed":d?String(f):l,"aria-controls":d?"".concat(y,"-panel-").concat(Mo(d)):void 0},m?{href:m,target:"_blank",onKeyUp:function(e){" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),e.currentTarget.click())},role:"button"}:{type:"button"}),w=At(S,yi(yi({},P),{},{children:[(n||r)&&At(Go,{id:n,svgContent:r}),i&&At("span",{children:o})]}));return At("div",{className:["im-c-button-wrapper",i&&" im-c-button-wrapper--wide",v&&"im-c-button-wrapper--group-start",b&&"im-c-button-wrapper--group-middle",_&&"im-c-button-wrapper--group-end"].filter(Boolean).join(" "),style:c?{display:"none"}:void 0,children:[i?w:At(si,{content:o,children:w}),d&&At(Ci,{slot:"".concat(Mo(t),"-button")})]})};function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||_i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){if(e){if("string"==typeof e)return hi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gi(e){var t,n=e.btn,r=e.appState,o=e.appConfig,i=e.evaluateProp,u=e.groupStart,a=e.groupMiddle,l=e.groupEnd,c=vi(n,2),f=c[0],s=c[1],p=null!==(t=s[r.breakpoint])&&void 0!==t?t:{},d=function(e,t,n){var r=vi(e,2)[1],o=!(!r.panelId||!t.openPanels[r.panelId]);return function(e){if("function"==typeof r.onClick)return r.onClick(e,n(function(e){return e},r.pluginId));if(r.panelId){var i=e.currentTarget;t.dispatch({type:o?"CLOSE_PANEL":"OPEN_PANEL",payload:o?r.panelId:{panelId:r.panelId,props:{triggeringElement:i}}})}}}(n,r,i),y=!(!s.panelId||!r.openPanels[s.panelId]);return At(bi,{buttonId:f,iconId:i(s.iconId,s.pluginId),iconSvgContent:i(s.iconSvgContent,s.pluginId),variant:s.variant,label:i(s.label,s.pluginId),href:i(s.href,s.pluginId),showLabel:p.showLabel,isDisabled:r.disabledButtons.has(f),isHidden:r.hiddenButtons.has(f),isPressed:s.pressedWhen?r.pressedButtons.has(f):void 0,isOpen:y,onClick:d,panelId:s.panelId,idPrefix:o.id,groupStart:u,groupMiddle:a,groupEnd:l},f)}function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(e)}var Si=["evaluateProp"];function Pi(e){return function(e){if(Array.isArray(e))return Ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach(function(t){Ti(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ti(e,t,n){return(t=function(e){var t=function(e){if("object"!=Oi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Oi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Oi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e){var t=e.evaluateProp,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Si),r=function(e){var t=e.slot,n=e.appState,r=e.evaluateProp,o=n.breakpoint,i=n.mode,u=n.pluginRegistry,a=n.controlConfig;return Object.values(a).filter(function(e){var r,u,a,l,c=e[o];if(!c)return!1;var f=Wo.control.includes(c.slot),s=null===(r=null===(u=e.includeModes)||void 0===u?void 0:u.includes(i))||void 0===r||r,p=null!==(a=null===(l=e.excludeModes)||void 0===l?void 0:l.includes(i))&&void 0!==a&&a;return!(!1===e.inline&&!n.isFullscreen)&&s&&!p&&c.slot===t&&f}).map(function(e){var t,n,i,a=u.registeredPlugins.find(function(t){var n;return null===(n=t.manifest)||void 0===n||null===(n=n.controls)||void 0===n?void 0:n.some(function(t){return t.id===e.id})}),l=null==a?void 0:a.id;return i=e.html?At("div",{className:"im-c-control",dangerouslySetInnerHTML:{__html:r(e.html,l)}},e.id):At(zr(e.render,{pluginId:l,pluginConfig:null==a?void 0:a.config}),{},e.id),{id:e.id,type:"control",order:null!==(t=null===(n=e[o])||void 0===n?void 0:n.order)&&void 0!==t?t:0,element:i}})}(Ai({evaluateProp:t},n)),o=function(e){var t=e.slot,n=e.appState,r=e.evaluateProp,o=n.breakpoint,i=n.pluginRegistry,u=n.panelConfig,a=n.mode,l=n.openPanels,c=Object.entries(l),f=c.filter(function(e){var t,n=ni(e,1)[0],r=null===(t=u[n])||void 0===t?void 0:t[o];return null==r?void 0:r.modal}),s=f.length>0?f[f.length-1][0]:null;return c.map(function(e){var l,c,f,p,d,y=ni(e,2),m=y[0],b=y[1].props,v=u[m];if(!v)return null;var _=v[o];if(!_)return null;var h=_.modal?"modal":_.slot;"bottom"===h&&["tablet","desktop"].includes(o)&&(h="inset");var g="".concat(Mo(m),"-button")===h,O=Wo.panel.includes(h)||g,S=null===(l=null===(c=v.includeModes)||void 0===c?void 0:c.includes(a))||void 0===l||l,P=null!==(f=null===(p=v.excludeModes)||void 0===p?void 0:p.includes(a))&&void 0!==f&&f;if(!O||!S||P)return null;if(!1===v.inline&&!n.isFullscreen)return null;if(h!==t)return null;if(_.modal&&m!==s)return null;var w=i.registeredPlugins.find(function(e){return e.id===v.pluginId}),E=null==w?void 0:w.id,j=v.render?zr(v.render,ei(ei({},b),{},{pluginId:E,pluginConfig:null==w?void 0:w.config})):null;return{id:m,type:"panel",order:null!==(d=_.order)&&void 0!==d?d:0,element:At(Xo,{panelId:m,panelConfig:v,props:b,WrappedChild:j,label:r(v.label,E),html:E?r(v.html,E):v.html},m)}}).filter(Boolean)}(Ai({evaluateProp:t},n)),i=function(e){var t=e.slot,n=e.appState,r=e.appConfig,o=e.evaluateProp,i=n.buttonConfig,u=n.breakpoint,a=function(e){var t=e.appState,n=e.buttonConfig,r=e.slot,o=e.evaluateProp,i=t.breakpoint,u=t.mode;return n?Object.entries(n).filter(function(e){var n,a,l=vi(e,2),c=(l[0],l[1]),f=c[i];return!("function"==typeof c.excludeWhen&&o(c.excludeWhen,c.pluginId)||c.includeModes&&(null===(n=c.includeModes)||void 0===n||!n.includes(u))||null!==(a=c.excludeModes)&&void 0!==a&&a.includes(u)||!1===c.inline&&!t.isFullscreen||(null==f?void 0:f.slot)!==r||!Wo.button.includes(f.slot))}):[]}({appState:n,appConfig:r,buttonConfig:i,slot:t,evaluateProp:o});if(!a.length)return[];var l=new Map;a.forEach(function(e,t){var n=vi(e,2)[1].group;null!=n&&(l.has(n)||l.set(n,[]),l.get(n).push(t))});var c,f=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_i(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}(l);try{for(f.s();!(c=f.n()).done;){var s=vi(c.value,2),p=s[0];s[1].length<2&&l.delete(p)}}catch(e){f.e(e)}finally{f.f()}return a.map(function(e,t){var i,a,c=vi(e,2),f=c[0],s=c[1],p=s.group,d=null!=p?l.get(p):null,y=!!d&&t===d[0],m=!!d&&t===d[d.length-1],b=d&&d.length>=3&&!y&&!m;return{id:f,type:"button",order:null!==(i=null===(a=s[u])||void 0===a?void 0:a.order)&&void 0!==i?i:0,element:gi({btn:e,appState:n,appConfig:r,evaluateProp:o,groupStart:y,groupMiddle:b,groupEnd:m})}})}(Ai({evaluateProp:t},n)),u=[].concat(Pi(r),Pi(o),Pi(i)),a=u.filter(function(e){return null==e.order||0===e.order}),l=u.filter(function(e){return null!=e.order&&0!==e.order});l.sort(function(e,t){return e.order-t.order});var c,f=Pi(a),s=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=wi(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}(l);try{for(s.s();!(c=s.n()).done;){var p=c.value,d=Math.min(Math.max(p.order-1,0),f.length);f.splice(d,0,p)}}catch(e){s.e(e)}finally{s.f()}return f}var Ri=function(e){e.slot;var t=e.children,n=Cr(),r=n.openPanels,o=n.panelConfig,i=n.breakpoint,u=vt.Children.toArray(t).find(function(e){var t;return!1===(null===(t=e.props)||void 0===t?void 0:t.isHidden)});return At("div",{className:["im-c-panel","im-c-actions",Object.keys(r).some(function(e){var t;return"mobile"===i&&"bottom"===(null===(t=o[e])||void 0===t||null===(t=t[i])||void 0===t?void 0:t.slot)})&&"im-c-actions--border-top"].filter(Boolean).join(" "),style:u?void 0:{display:"none"},children:t})},Ci=function(e){var t=e.slot,n=ki({slot:t,appConfig:Xn(),appState:Cr(),evaluateProp:Kr()});return n.length?At(P,{children:"actions"===t?At(Ri,{slot:t,children:n.map(function(e){return e.element})}):At(P,{children:n.map(function(e){return e.element})})}):null},Ii=function(){var e=Xn().id,t=Cr(),n=t.breakpoint,r=t.interfaceType,o=t.preferredColorScheme,i=t.layoutRefs,u=t.isLayoutReady,a=t.hasExclusiveControl,l=t.isFullscreen,c=Ir().mapStyle;return function(){var e=Cr(),t=e.dispatch,n=e.breakpoint,r=e.layoutRefs,o=Ir(),i=o.mapSize,u=o.isMapReady,a=r.appContainerRef,l=r.mainRef,c=r.bannerRef,f=r.topRef,s=r.topLeftColRef,p=r.topRightColRef,d=r.insetRef,y=r.footerRef,m=r.actionsRef,b=function(){var e=a.current,t=l.current,n=f.current,r=s.current,o=p.current,i=d.current,u=y.current,c=m.current;if(t&&n&&i&&u){var b=document.documentElement,v=parseInt(getComputedStyle(b).getPropertyValue("--divider-gap"),10),_=r.offsetHeight+n.offsetTop,h=t.offsetHeight-_-n.offsetTop;e.style.setProperty("--inset-offset-top","".concat(_,"px")),e.style.setProperty("--inset-max-height","".concat(h,"px"));var g=i.offsetHeight+_,O=Math.min(u.offsetTop,c.offsetTop)-v>g?0:i.offsetLeft+i.offsetWidth;e.style.setProperty("--offset-left","".concat(O,"px"));var S=o.offsetHeight+n.offsetTop,P=t.offsetHeight-u.offsetTop+v;e.style.setProperty("--right-offset-top","".concat(S,"px")),e.style.setProperty("--right-offset-bottom","".concat(P,"px"));var w=r.offsetWidth||0,E=o.offsetWidth||0,j=w||E?Math.max(w,E):0;e.style.setProperty("--top-col-width","".concat(j,"px"))}};pe(function(){requestAnimationFrame(function(){b();var e=lo(r);t({type:"SET_SAFE_ZONE_INSET",payload:{safeZoneInset:e}})})},[n,i,u]),Bo([c,l,f,m,y],function(){requestAnimationFrame(function(){b()})})}(),function(){var e=Cr(),t=e.interfaceType,n=e.layoutRefs;se(function(){if(n.appContainerRef.current)return document.addEventListener("focusin",e),document.addEventListener("focusout",r),document.addEventListener("pointerdown",o),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",r),document.removeEventListener("pointerdown",o)};function e(e){e.target.dataset.focusVisible="keyboard"===t}function r(e){delete e.target.dataset.focusVisible}function o(e){delete document.activeElement.dataset.focusVisible}},[t,n.appContainerRef])}(),At("div",{id:"".concat(e,"-im-app"),className:["im-o-app","im-o-app--".concat(n),"im-o-app--".concat(r),"im-o-app--".concat(l?"fullscreen":"inline"),"im-o-app--".concat((null==c?void 0:c.appColorScheme)||o,"-app"),"im-o-app--".concat((null==c?void 0:c.mapColorScheme)||"light","-map"),a&&"im-o-app--exclusive-control"].filter(Boolean).join(" "),style:{backgroundColor:(null==c?void 0:c.backgroundColor)||void 0},ref:i.appContainerRef,children:[At(xo,{keyboardHintPortalRef:i.topRef}),At("div",{className:"im-o-app__overlay".concat(u?"":" im-o-app__overlay--not-ready"),children:[At("div",{className:"im-o-app__side",ref:i.sideRef,children:At(Ci,{slot:Fo.SIDE})}),At("div",{className:"im-o-app__main",ref:i.mainRef,children:[["mobile","tablet"].includes(n)&&At("div",{className:"im-o-app__banner",ref:i.bannerRef,children:At(Ci,{slot:Fo.BANNER})}),At("div",{className:"im-o-app__top",ref:i.topRef,children:[At("div",{className:"im-o-app__top-col",ref:i.topLeftColRef,children:At(Ci,{slot:Fo.TOP_LEFT})}),At("div",{className:"im-o-app__top-col",children:[At(Ci,{slot:Fo.TOP_MIDDLE}),["desktop"].includes(n)&&At("div",{className:"im-o-app__banner",ref:i.bannerRef,children:At(Ci,{slot:Fo.BANNER})})]}),At("div",{className:"im-o-app__top-col",ref:i.topRightColRef,children:At(Ci,{slot:Fo.TOP_RIGHT})})]}),At("div",{className:"im-o-app__inset",ref:i.insetRef,children:At(Ci,{slot:Fo.INSET})}),At("div",{className:"im-o-app__right",ref:i.rightRef,children:[At("div",{className:"im-o-app__right-top",children:At(Ci,{slot:Fo.RIGHT_TOP})}),At("div",{className:"im-o-app__right-bottom",children:At(Ci,{slot:Fo.RIGHT_BOTTOM})})]}),At("div",{className:"im-o-app__middle",children:At(Ci,{slot:Fo.MIDDLE})}),At("div",{className:"im-o-app__footer",ref:i.footerRef,children:[At("div",{className:"im-o-app__footer-col",children:At(zo,{})}),At("div",{className:"im-o-app__footer-col",children:[At(Ci,{slot:Fo.FOOTER_RIGHT}),At("div",{className:"im-o-app__attributions",children:At(Uo,{})})]})]}),At("div",{className:"im-o-app__bottom",children:At(Ci,{slot:Fo.BOTTOM})}),At("div",{className:"im-o-app__actions",ref:i.actionsRef,children:At(Ci,{slot:Fo.ACTIONS})})]})]}),At("div",{className:"im-o-app__modal",children:[At(Ci,{slot:Fo.MODAL}),At("div",{className:"im-o-app__modal-backdrop"})]})]})},Mi=function(e){return se(function(){(0,Sr.i)(),e.eventBus.emit(ht.q.APP_READY)},[]),At(ir,{options:e,children:At(_r,{options:e,children:At(Or,{eventBus:e.eventBus,children:At(kr,{children:[At(Qr,{}),At(Ii,{})]})})})})};function Di(e){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(e)}var Ni=["MapProvider","mapProviderConfig","mapFramework","plugins"],Li=["id","load","manifest"],xi=["InitComponent","api","reducer"];function Hi(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return Bi(c,"_invoke",function(n,r,o){var i,a,l,c=0,f=o||[],s=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(n,r){for(a=n,l=r,t=0;!s&&c&&!o&&t<f.length;t++){var o,i=f[t],d=p.p,y=i[2];n>3?(o=y===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,a=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,y){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,y),a=f,l=y;(t=a<2?e:l)||!s;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(s=p.n<0)?l:n.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:t,done:s}}}(n,o,i),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(Bi(t={},r,function(){return this}),t),s=c.prototype=a.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Bi(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=c,Bi(s,"constructor",c),Bi(c,"constructor",l),l.displayName="GeneratorFunction",Bi(c,o,"GeneratorFunction"),Bi(s),Bi(s,o,"Generator"),Bi(s,r,function(){return this}),Bi(s,"toString",function(){return"[object Generator]"}),(Hi=function(){return{w:i,m:p}})()}function Bi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Bi=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{function i(t,n){Bi(e,t,function(e){return this._invoke(t,n,e)})}i("next",0),i("throw",1),i("return",2)}},Bi(e,t,n,r)}function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(t){Fi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fi(e,t,n){return(t=function(e){var t=function(e){if("object"!=Di(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Di(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Di(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Gi(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}var Zi=new WeakMap,$i=new WeakMap,Ki=new WeakMap;function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){Gi(i,r,o,u,a,"next",e)}function a(e){Gi(i,r,o,u,a,"throw",e)}u(void 0)})}}(Hi().m(function e(t,n){var r,o,i,u,a,l,c,f,s,p,d,y,m,b,v,_,h,g,O,S,P,w,E,j,A,T,k,R,C,I,M,D,N,L,x;return Hi().w(function(e){for(;;)switch(e.p=e.n){case 0:o=n.MapProvider,i=n.mapProviderConfig,u=n.mapFramework,a=n.plugins,l=void 0===a?[]:a,c=Vi(n,Ni),f=c.eventBus,(s=$i.get(t))||(s=new o({mapFramework:u,mapProviderConfig:i,events:ht.q,eventBus:f}),$i.set(t,s)),null!==(r=s.capabilities)&&void 0!==r&&r.supportedShortcuts&&Et(s.capabilities.supportedShortcuts),(p=Ki.get(t))||(d=tn(),y=pn(),m=hn(),b=Rn({registerButton:d.registerButton,registerPanel:y.registerPanel,registerControl:m.registerControl}),p={buttonRegistry:d,panelRegistry:y,controlRegistry:m,pluginRegistry:b},Ki.set(t,p)),_=(v=p).buttonRegistry,h=v.panelRegistry,g=v.controlRegistry,O=v.pluginRegistry,S=O.registerPlugin,O.clear(),S({id:"appConfig",manifest:xt}),(P=Zi.get(t))||(P=_t(t),Zi.set(t,P)),w={_root:P,on:f.on,off:f.off,emit:f.emit,unmount:function(){var e,n;P.unmount(),Zi.delete(t),null===(e=(n=s).destroyMap)||void 0===e||e.call(n),$i.delete(t),O.clear()}},E=Wi(l),e.p=1,E.s();case 2:if((j=E.n()).done){e.n=5;break}if("function"!=typeof(A=j.value).load){e.n=4;break}return e.n=3,A.load();case 3:T=e.v,k=A.id,A.load,R=A.manifest,C=Vi(A,Li),I=T.InitComponent,M=T.api,D=T.reducer,N=Vi(T,xi),L=Nn(N,R),S({id:k,InitComponent:I,api:M,reducer:D,config:C,manifest:L,_originalPlugin:A});case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,x=e.v,E.e(x);case 7:return e.p=7,E.f(),e.f(7);case 8:return P.render(At(Mi,Ui(Ui({},c),{},{buttonRegistry:_,panelRegistry:h,controlRegistry:g,pluginRegistry:O,mapProvider:s}))),e.a(2,w)}},e,null,[[1,6,7,8]])})),Xi.apply(this,arguments)}}};